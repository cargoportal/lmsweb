"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],a=!0,n=!1,s=void 0;try{for(var l,r=t[Symbol.iterator]();!(a=(l=r.next()).done)&&(i.push(l.value),!e||i.length!==e);a=!0);}catch(t){n=!0,s=t}finally{try{a||null==r.return||r.return()}finally{if(n)throw s}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return l=t.done,t},e:function(t){r=!0,s=t},f:function(){try{l||null==i.return||i.return()}finally{if(r)throw s}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var responseHtml='<section class="cps-content py-6" data-for="%data_for_status" id="%section_id"> <div class="row mb-0">  <div class="col s12 mb-9">   <h3 style="display:inline-block;">%heading</h3>  <i class="small material-icons blue-text tooltipped" style="display:%style;font-size: 1.6rem; vertical-align: text-bottom;" data-position="top" data-tooltip="Click any of the flight from Flight column to view the operational/active status of the flight for the scheduled departure date.">info_outline</i> </div>   <div class="col s12 mb-9" style="padding-left:0;padding-right:0;">   <div class="ticket">  <div class="scrollable-x"> %responseData </div>  </div>  <div class="ticket-notch left" style="top: 70px;"></div> <div class="ticket-notch right" style="top: 70px;"></div>   </div>   </div>   <div class="col s12"> <button name="gotitbutton" id="gotitbutton" class="btn waves-effect waves-light right w-185"> GOT IT</button></div> </section> ',flightStatusErrorHtml='<section class="cps-content py-6" data-for="%data_for_status" id="%section_id"> <div class="row mb-0">  <div class="col s12 mb-9" >   <h3>%heading</h3>  </div>   <div class="col s12 mb-9" style="padding-left:0;padding-right:0;">   <div class="ticket">  <div class="scrollable-x"> <table class="centered"><thead ticket-header=""><tr><th style="font-weight:500"> Flight</th><th style="font-weight:500"> Origin</th><th style="font-weight:500"> Destination</th><th style="font-weight:500"> Aircraft<BR>Type</th><th style="font-weight:500"> Scheduled<BR>Departure</th><th style="font-weight:500"> Adjusted<BR>Departure</th><th style="font-weight:500"> Scheduled<BR>Arrival</th><th style="font-weight:500"> Adjusted<BR>Arrival</th><th style="font-weight:500"> Status</th></tr></thead><tbody><TR><TD class="red-text center-align" colspan="12">%errorresponse</TD></TR></tbody></table> </div>  </div>  <div class="ticket-notch left" style="top: 70px;"></div> <div class="ticket-notch right" style="top: 70px;"></div>   </div>   </div>   <div class="col s12"> <button name="gotitbutton" id="gotitbutton" class="btn waves-effect waves-light right w-185"> GOT IT</button></div> </section>',schedulesStatusErrorHtml='<section class="cps-content py-6" data-for="%data_for_status" id="%section_id"> <div class="row mb-0">  <div class="col s12 mb-9" >   <h3 style="display:inline-block;">%heading</h3> <i class="small material-icons blue-text tooltipped" style="display:inline-block;font-size: 1.6rem; vertical-align: text-bottom;" data-position="top" data-tooltip="Click any of the flight from Flight column to view the operational/active status of the flight for the scheduled departure date.">info_outline</i> </div>   <div class="col s12 mb-9" style="padding-left:0;padding-right:0;">   <div class="ticket">  <div class="scrollable-x"> <table class="centered">  <thead ticket-header=""> <tr>  <th style="font-weight:500"> Flight</th> <th style="font-weight:500"> Origin</th> <th style="font-weight:500"> Destination</th> <th style="font-weight:500"> Departure</th> <th style="font-weight:500"> Arrival</th> <th style="font-weight:500"> Number of Stops</th><th style="font-weight:500"> Aircraft Type</th>  </tr> </thead>  <tbody>   <TR>  <TD colspan="12" class="red-text center-align"> %errorresponse </TD>  </TR> </tbody>  </table> </div>  </div>  <div class="ticket-notch left" style="top: 70px;"></div> <div class="ticket-notch right" style="top: 70px;"></div>   </div>   </div>   <div class="col s12"> <button name="gotitbutton" id="gotitbutton" class="btn waves-effect waves-light right w-185"> GOT IT</button></div> </section>',trackShipmentsStatusErrorHtml='<section class="cps-content py-6" data-for="%data_for_status" id="%section_id"> <div class="row mb-0">  <div class="col s12 mb-9" >   <h3>%heading</h3>  </div>   <div class="col s12 mb-9" style="padding-left:0;padding-right:0;">   <div class="ticket">  <div class="scrollable-x"><table class="centered">  <thead ticket-header=""> <tr> <th style="font-weight:500"> Air Waybill</th> <th style="font-weight:500"> Origin</th> <th style="font-weight:500"> Destination</th> <th style="font-weight:500"> Pieces</th> <th style="font-weight:500"> Weight</th> <th style="font-weight:500"> Flight</th> <th style="font-weight:500"> Flight<BR/>Date</th> <th style="font-weight:500"> Status<BR/>Station</th> <th style="font-weight:500"> Status<BR/>Date</th> <th style="font-weight:500"> Status</th>  </tr> </thead>  <tbody>   <TR> <TD colspan="12" class="red-text center-align">%errorresponse </TD>   </TR></tbody>  </table> </div>  </div>  <div class="ticket-notch left" style="top: 70px;"></div> <div class="ticket-notch right" style="top: 70px;"></div>   </div>   </div>   <div class="col s12"> <button name="gotitbutton" id="gotitbutton" class="btn waves-effect waves-light right w-185"> GOT IT</button></div> </section>',customsStatusErrorHtml='<section class="cps-content py-6" data-for="%data_for_status" id="%section_id"> <div class="row mb-0">  <div class="col s12 mb-9" >   <h3>%heading</h3>  </div>   <div class="col s12 mb-9" style="padding-left:0;padding-right:0;">   <div class="ticket">  <div class="scrollable-x"><table class="centered">  <thead ticket-header=""> <tr> <th style="font-weight:500"> Air Waybill</th> <th style="font-weight:500"> Origin</th> <th style="font-weight:500"> Destination</th> <th style="font-weight:500"> Customs</th> <th style="font-weight:500"> Pieces</th> <th style="font-weight:500"> Weight</th> <th style="font-weight:500"> Console<BR/>Date</th> <th style="font-weight:500"> Description</th> <th style="font-weight:500"> Customs Status</th> </tr> </thead>  <tbody>   <TR> <TD colspan="12" class="red-text center-align">%errorresponse </TD>   </TR></tbody>  </table> </div>  </div>  <div class="ticket-notch left" style="top: 70px;"></div> <div class="ticket-notch right" style="top: 70px;"></div>   </div>   </div>   <div class="col s12"> <button name="gotitbutton" id="gotitbutton" class="btn waves-effect waves-light right w-185"> GOT IT</button></div> </section>',customstatusresponseHtml='<section class="cps-content py-6" data-for="%data_for_status" id="%section_id"> <div class="row mb-0">  <div class="col s12 mb-9">   <h3 style="display:inline-block;">%heading</h3>  <i class="small material-icons blue-text tooltipped" style="display:%style;font-size: 1.6rem; vertical-align: text-bottom;" data-position="top" data-tooltip="Click any of the flight from Flight column to view the operational/active status of the flight for the scheduled departure date.">info_outline</i> </div>    %responseData  </div>  <div class="col s12"> <button name="gotitbutton" id="gotitbutton" class="btn waves-effect waves-light right w-185"> GOT IT</button></div> </section> ',formName=null,signOnSectionIds={banner:"#home-banner",bookingCPS:"#home-booking-cps",whyCPS:"#home-why-cps",sendFeedback:"#home-send-feedback"},signOnActionIds={customsStatus:"#customs_status",flightStatus:"#flight_status",schedules:"#schedules",trackShipment:"#track_shipment"},signOnAutocompletes={time:{id:"#time",options:{minLength:0,data:{"00:00":null,"00:30":null,"01:00":null,"01:30":null,"02:00":null,"02:30":null,"03:00":null,"03:30":null,"04:00":null,"04:30":null,"05:00":null,"05:30":null,"06:00":null,"06:30":null,"07:00":null,"07:30":null,"08:00":null,"08:30":null,"09:00":null,"09:30":null,"10:00":null,"10:30":null,"11:00":null,"11:30":null,"12:00":null,"12:30":null,"13:00":null,"13:30":null,"14:00":null,"14:30":null,"15:00":null,"15:30":null,"16:00":null,"16:30":null,"17:00":null,"17:30":null,"18:00":null,"18:30":null,"19:00":null,"19:30":null,"20:00":null,"20:30":null,"21:00":null,"21:30":null,"22:00":null,"22:30":null,"23:00":null,"23:30":null}}}};function initializeSignOn(){navbar({type:Navbar.types.SIGN_ON}),!!document.documentMode&&$(".loading-overlay").attr("style","display:none;top:0;width:21.5%;height:87%"),carriers(),footer();var t,e=_createForOfIteratorHelper(document.querySelectorAll("[data-signon]"));try{var i=function(){var e=t.value,i=e.getAttribute("data-signon");$.get("/lmsweb/app/SignOn/".concat(i,".jsp"),(function(t){$(e).replaceWith(t)}))};for(e.s();!(t=e.n()).done;)i()}catch(t){e.e(t)}finally{e.f()}for(var a in signOnActionIds)a=a.charAt(0).toUpperCase()+a.slice(1),$.get("/lmsweb/app/SignOn/QuickActions/".concat(a,".jsp"),(function(t){$("body").prepend(t)}));drawer(),customSwitch()}document.onreadystatechange=function(){"complete"!==document.readyState||$((function(){$(".preload").fadeOut(500,(function(){$(".content_main").fadeIn(250)})),document.getElementById("browserName")&&(document.getElementById("browserName").textContent=browser),document.getElementById("browserVersion")&&(document.getElementById("browserVersion").textContent=" v"+browserVersion)}))},$(document).ready((function(){$(document).styleUrl($("#imageCdnUrl").val()),initializeSignOn(),$(document).waitForRender(Object.values(signOnActionIds),(function(){$(document).cpsInit(["[data-module]","[data-signon]"],(function(){signOnBanner(),signOnBookingCPS(),signOnWhyCPS(),checkBrowser()}))})),$("#login-menu__web__user_id").on("keyup",(function(t){if(t.preventDefault(),13==t.which){var e=$("#login-menu__web__user_id").val(),i=$("#login-menu__web__password").val(),a=!1;$("#login-menu__web__error_panel").css({display:"none"}),""==e?($("#login-menu__web__user_id").addClass("invalid"),$("#login-menu__web__user_id").siblings("span:first").attr("data-error","Enter User ID"),a=!0):$("#login-menu__web__user_id").removeClass("invalid"),""==i?($("#login-menu__web__password").addClass("invalid"),$("#login-menu__web__password").siblings("span:first").attr("data-error","Enter Password"),a=!0):$("#login-menu__web__password").removeClass("invalid"),a||ajaxLogin(e,i,"#login-menu__web__error_panel")}})),$("#login-menu__mobile__user_id").on("keyup",(function(t){if(t.preventDefault(),13==t.which){var e=$("#login-menu__mobile__user_id").val(),i=$("#login-menu__mobile__password").val();$("#login-menu__mobile__error_panel").css({display:"none"});var a=!1;""==e?($("#login-menu__mobile__user_id").addClass("invalid"),$("#login-menu__mobile__user_id").siblings("span:first").attr("data-error","Enter User ID"),a=!0):$("#login-menu__mobile__user_id").removeClass("invalid"),""==i?($("#login-menu__mobile__password").addClass("invalid"),$("#login-menu__mobile__password").siblings("span:first").attr("data-error","Enter Password"),a=!0):$("#login-menu__mobile__password").removeClass("invalid"),a||ajaxLogin(e,i,"#login-menu__mobile__error_panel")}})),$("#login-menu__web__password").on("keyup",(function(t){if(t.preventDefault(),13==t.which){var e=$("#login-menu__web__user_id").val(),i=$("#login-menu__web__password").val();$("#login-menu__web__error_panel").css({display:"none"});var a=!1;""==e?($("#login-menu__web__user_id").addClass("invalid"),$("#login-menu__web__user_id").siblings("span:first").attr("data-error","Enter User ID"),a=!0):$("#login-menu__web__user_id").removeClass("invalid"),""==i?($("#login-menu__web__password").addClass("invalid"),$("#login-menu__web__password").siblings("span:first").attr("data-error","Enter Password"),a=!0):$("#login-menu__web__password").removeClass("invalid"),a||ajaxLogin(e,i,"#login-menu__web__error_panel")}})),$("#login-menu__mobile__password").on("keyup",(function(t){if(t.preventDefault(),13==t.which){var e=$("#login-menu__mobile__user_id").val(),i=$("#login-menu__mobile__password").val();$("#login-menu__mobile__error_panel").css({display:"none"});var a=!1;""==e?($("#login-menu__mobile__user_id").addClass("invalid"),$("#login-menu__mobile__user_id").siblings("span:first").attr("data-error","Enter User ID"),a=!0):$("#login-menu__mobile__user_id").removeClass("invalid"),""==i?($("#login-menu__mobile__password").addClass("invalid"),$("#login-menu__mobile__password").siblings("span:first").attr("data-error","Enter Password"),a=!0):$("#login-menu__mobile__password").removeClass("invalid"),a||ajaxLogin(e,i,"#login-menu__mobile__error_panel")}}))}));var signOnActionDataTimerId=null;function signOnActionData(t){var e=$(signOnSectionIds.banner),i=e.next("[data-for]");function a(){(i=$(t).insertAfter(e)).slideDown(250,(function(){i.find(".cps-icons").each((function(){CPS.Icon.init(this)})),i.find("button").on("keydown click",(function(t){var e="keydown"===t.type&&13===t.keyCode;("click"===t.type||e)&&(t.preventDefault(),(i=$(t.target).closest("[data-for]")).slideUp(250,i.remove))})),"frmScheds"==formName&&(schedulesShowMore(),formName=null),i.find(".ticket").each((function(){CPS.Ticket.init(this),$(".tooltipped").tooltip()}))}))}i.length?(i.slideUp(250,i.remove),signOnActionDataTimerId&&(clearTimeout(signOnActionDataTimerId),signOnActionDataTimerId=null),signOnActionDataTimerId=setTimeout(a,250)):a()}function signOnBanner(){var t=$(signOnSectionIds.banner);for(var e in t.find(".dropdown-trigger").each((function(){var t={closeOnClick:!1,onItemClick:function(t){t.preventDefault();var e=$(t.target),i="LABEL"===e.prop("tagName"),a=e.is('[type="submit"]'),n=e.closest("form")[0];if(i){var s=_slicedToArray(e.siblings("input"),1)[0];$(s).addClass("active"),$(s).focus()}if(n&&a){var l=n.querySelectorAll("input");if(n.checkValidity()){if("frmScheds"==n.name){$("#schedules_action").css({display:"none"}),formName=n.name;var r=$("input[name=carrier_0]").val(),o=$("input[name=selDate]").val();o=o.replace(/\s/g,"");var d=$("input[name=txtDepart]").val(),c=$("input[name=txtOrigin]").val(),u=$("input[name=txtDest]").val(),h=$("input[name=chkDirectFlights]:checked").val(),p=$("input[name=hdnCallFrom]").val(),m="";null!=r&&("ALL"==(r=r.toUpperCase())&&(r="all"),m+="retrieve=YES&selCarrier="+r+"&signedOn=false&selDate="+(null!=o&&7==o.length?o.toUpperCase():"")),null!=c&&3==c.length&&(c=c.toUpperCase(),$("input[name=txtOrigin]").val(c),m+="&txtOrigin="+c),null!=u&&3==u.length&&(u=u.toUpperCase(),$("input[name=txtDest]").val(u),m+="&txtDest="+u),null!=p&&5==p.length&&(m+="&hdnCallFrom="+p),"Y"!=h&&(h="N"),m+="&chkDirectFlights="+h,2==d.indexOf(":")&&"HH:MM"!=d&&(m+="&txtDepart="+(d=d.replace(":","")));var g="/lmsweb/app/common/flightschedulesajax.jsp?"+m;null!=r&&"LH"==r&&(g+="&txtProduct=X&txtWeight=1&selWeight=KG"),null!=r&&"AA"==r&&(g="/lmsweb/app/common/flightschedulesajax-aa.jsp?"+m+"&hdnWeight=0.1&hdnCommodity=GENCARGO"),validateSchedulesQuickActionFields()&&(loadingOverlay("open"),$.ajax({type:"POST",url:g,cache:!1,success:function(t,e,i){var a=responseHtml.replace("%data_for_status","schedules").replace("%section_id","schedules_action").replace("%heading","Schedules").replace("%responseData",t).replace("%style","inline-block");console.log(a),signOnActionData(a),loadingOverlay("close")},error:function(t,e,i){signOnActionData(schedulesStatusErrorHtml.replace("%data_for_status","schedules").replace("%section_id","schedules_action").replace("%heading","Schedules").replace("%errorresponse","Invalid Input")),loadingOverlay("close")},async:!0}))}else if("frmFlightStatus"==n.name){$("#flight_status_action").css({display:"none"});r=$("input[name=carrier_1]").val();var v=/^[A-Za-z]+$/;if((h=$("input[name=flight_number]").val()).includes(r)){if(h.includes(r)){var _,f;if((_=h.substring(h.length-1)).match(v))1==(f=h.substring(2,h.length-1)).length?f="00"+f:2==f.length&&(f="0"+f),h=r+f+_,$("input[name=flight_number]").val(h)}}else if((_=h.substring(h.length-1)).match(v))1==(f=h.substring(0,h.length-1)).length?f="00"+f:2==f.length&&(f="0"+f),h=f+_;if(1==h.length?h="00"+h:2==h.length&&(h="0"+h),!h.includes(r))(_=h.substring(0,2)).match(v)||(h=r+h,$("input[name=flight_number]").val(h));var b=$("input[name=flight_date_0]").val();p=$("input[name=hdnCallFrom]").val();if(validateFlightStatusQuickActionFields()){var y="retrieve=YES&selCarrier="+r+"&txtFlightNbr="+h+"&selFlightDate="+b.replace(/\s/g,"");null!=p&&5==p.length&&(y+="&hdnCallFrom="+p);g="/lmsweb/app/common/flightstatusajax.jsp?"+y;loadingOverlay("open"),$.ajax({type:"POST",url:g,cache:!1,success:function(t,e,i){signOnActionData(responseHtml.replace("%data_for_status","flight_status").replace("%section_id","flight_status_action").replace("%heading","Flight Status").replace("%responseData",t).replace("%style","none")),loadingOverlay("close")},error:function(t,e,i){signOnActionData(flightStatusErrorHtml.replace("%data_for_status","flight_status").replace("%section_id","flight_status_action").replace("%heading","Flight Status").replace("%errorresponse","Invalid Input")),loadingOverlay("close"),console.log("error detected"+i)},async:!0})}}else if("frmTrackShipment"==n.name){$("#track_shipment_action").css({display:"none"});var w=$("input[name=carrier_2]").val(),C=$("#airline_code_1").val(),S=$("#air_waybill_1").val();if(validateTrackShipmentFields()){g="/lmsweb/app/common/trackingawbadvajax.jsp?"+(y="retrieve=YES&selCarrier0="+w+"&txtACN0="+C+"&txtSRF0="+S);$("#shadowFilter").css({display:"block"}),$("#imgProg").css({display:"block"}),loadingOverlay("open"),$.ajax({type:"POST",url:g,cache:!1,success:function(t,e,i){signOnActionData(responseHtml.replace("%data_for_status","track_shipment").replace("%section_id","track_shipment_action").replace("%heading","Track Shipment").replace("%responseData",t).replace("%style","none")),loadingOverlay("close")},error:function(t,e,i){signOnActionData(trackShipmentsStatusErrorHtml.replace("%data_for_status","track_shipment").replace("%section_id","track_shipment_action").replace("%heading","Track Shipment").replace("%errorresponse","Invalid Input")),loadingOverlay("close"),$("#gotitbutton").css({display:"block"})},async:!0})}}else if("frmCustoms"==n.name){$("#customs_status_action").css({display:"none"});w=$("input[name=carrier_3]").val();var x=$("input[name=selCountryCode]").val(),O=(C=$("#txtAcn").val(),S=$("input[name=txtShipRef]").val(),$("input[name=txtHawb]").val());if(validateCustomStatusFields()){g="/lmsweb/app/common/customstatusajax.jsp?"+(y="retrieve=YES&selCountryCode="+x+"&selCarrier="+w+"&txtAcn="+C+"&txtShipRef="+S+"&txtHawb="+O);loadingOverlay("open"),$("#shadowFilter").css({display:"block"}),$("#imgProg").css({display:"block"}),$.ajax({type:"POST",url:g,cache:!1,success:function(t,e,i){signOnActionData(customstatusresponseHtml.replace("%data_for_status","customs_status").replace("%section_id","customs_status_action").replace("%heading","Customs Status").replace("%responseData",t).replace("%style","none")),loadingOverlay("close"),$("#shadowFilter").css({display:"none"}),$("#imgProg").css({display:"none"})},error:function(t,e,i){signOnActionData(schedulesShipmentsStatusErrorHtml.replace("%data_for_status","customs_status").replace("%section_id","customs_status_action").replace("%heading","Customs Status").replace("%errorresponse","Invalid Input")),$("#shadowFilter").css({display:"none"}),$("#imgProg").css({display:"none"}),document.getElementById("mainImgProg")&&(document.getElementById("mainImgProg").style.display="none",document.getElementById("mainShadowFilter").style.display="none"),loadingOverlay("close")},async:!0})}}}else{var k,A=_createForOfIteratorHelper(l);try{for(A.s();!(k=A.n()).done;){var D=k.value;D.value||D.classList.add("invalid"),null!=$("#txtHawb")&&($("#txtHawb").removeClass("invalid"),$("#txtHawb").addClass("valid"))}}catch(t){A.e(t)}finally{A.f()}}}},onPlacement:function(){var t=this.$el.closest(".row")[0],e=this.$el.closest(".col")[0],i=t.getBoundingClientRect(),a=parseInt($(e).css("paddingLeft"),10);this.dropdownEl.style.width="auto",this.dropdownEl.style.maxWidth="".concat(i.width-2*a,"px");var n=function(t){for(var e=0;e<t.length;e++){if($("#"+t[e]).hasClass("active"))return $("#"+t[e]).attr("data-target")}}(["schedules1","flightstatus1","trackshipment1","customstatus1"]);"schedules"!=n&&($('form[name="frmScheds"]').trigger("reset"),$("input[name=carrier_0]").siblings("span:first").attr("data-error",""),$("input[name=txtOrigin]").siblings("span:first").attr("data-error",""),$("input[name=txtDest]").siblings("span:first").attr("data-error",""),$("#schedules_action").hide(),$("#schedules_error").hide()),"flight_status"!=n&&($('form[name="frmFlightStatus"]').trigger("reset"),$("input[name=carrier_1]").siblings("span:first").attr("data-error",""),$("input[name=flight_number]").siblings("span:first").attr("data-error",""),$("#flight_status_action").hide(),$("#flight_status_error").hide()),"track_shipment"!=n&&($('form[name="frmTrackShipment"]').trigger("reset"),$("input[name=carrier_2]").siblings("span:first").attr("data-error",""),$("#airline_code_1").siblings("span:first").attr("data-error",""),$("#air_waybill_1").siblings("span:first").attr("data-error",""),$("#track_shipment_action").hide(),$("#track_shipment_error").hide()),"customs_status"!=n&&($('form[name="frmCustoms"]').trigger("reset"),$("input[name=selCountryCode]").siblings("span:first").attr("data-error",""),$("input[name=carrier_3]").siblings("span:first").attr("data-error",""),$("#txtAcn").siblings("span:first").attr("data-error",""),$("#txtShipRef").siblings("span:first").attr("data-error",""),$("#txtShipRef").siblings("span:first").attr("data-error",""),$("#customs_status_action").hide(),$("#customs_status_error").hide()),$(".date-range-field").each((function(){var t={singleDatePicker:!0,minDate:new Date,autoApply:!0,parentEl:this,locale:{format:"DD MMM YY"}};CPS.DateSelect.init(this,t)})),$("#flight_date_1").siblings("label:first").attr("class","active"),$("#flight_date_0").siblings("label:first").attr("class","active")},onPlacementEnd:function(){var t=this.$el.closest(".col")[0].getBoundingClientRect(),e=this.dropdownEl.getBoundingClientRect(),i=Math.max(0,($(window).width()-e.width)/2),a=t.left-i+t.width/2-this.options.arrowSize;this.arrowEl.style.left="".concat(a,"px"),this.dropdownEl.style.left="".concat(i,"px"),$("input.select-dropdown").removeClass("dropdown-trigger")}};CPS.Dropdown.init(this,t)})),$("select").each((function(){M.FormSelect.init(this)})),$(".date-range-field").each((function(){var t={singleDatePicker:!0,minDate:new Date,autoApply:!0,parentEl:this,locale:{format:"DD MMM YY"}};CPS.DateSelect.init(this,t)})),signOnAutocompletes){var i=signOnAutocompletes[e];M.Autocomplete.init($(i.id),i.options)}}function signOnBookingCPS(){$(signOnSectionIds.bookingCPS).find(".carousel").each((function(){var t={fullWidth:!0,indicators:!0,height:"100%",autoplay:8e3};CPS.Carousel.init(this,t);var e=document.querySelector("#carrierCarouselBrowser"),i=document.querySelector("#carrierCarouselTablet"),a=document.querySelector("#carrierCarouselMobile");CPS.Carousel.init(e,t),CPS.Carousel.init(i,t),CPS.Carousel.init(a,t)}))}function signOnWhyCPS(){var t=$(signOnSectionIds.whyCPS),e=!1;function i(){var i=t.find("h3");!e&&i.inView()&&(e=!0,i.counter())}i(),$(window).scroll(i)}function isAlphabet(t){var e=t.which?t.which:t.keyCode;return!!String.fromCharCode(e).match(/^[A-Za-z]+$/)}function validateFlightStatusQuickActionFields(){var t=$("input[name=carrier_1]").val(),e=$("input[name=flight_number]").val(),i=!1,a=!1,n=!1;if(t.length<2?($("input[name=carrier_1]").removeClass("valid"),$("input[name=carrier_1]").addClass("invalid"),$("input[name=carrier_1]").siblings("span:first").attr("data-error","Carrier [2 characters]"),i=!1):($("input[name=carrier_1]").removeClass("invalid"),$("input[name=carrier_1]").addClass("valid"),i=!0),e.length>0){e.match(/^[A-Z]{2}\d{3,6}?[A-Z]?$/)?($("input[name=flight_number]").removeClass("invalid"),$("input[name=flight_number]").addClass("valid"),a=!0):($("input[name=flight_number]").removeClass("valid"),$("input[name=flight_number]").addClass("invalid"),$("input[name=flight_number]").siblings("span:first").attr("data-error","Invalid Flight No"),a=!1)}return i&&a&&(n=!0),n}function validateSchedulesQuickActionFields(){var t=$("input[name=carrier_0]").val(),e=$("input[name=txtOrigin]").val(),i=$("input[name=txtDest]").val(),a=!1,n=!1,s=!1,l=!1;return t.length<2?($("input[name=carrier_0]").removeClass("valid"),$("input[name=carrier_0]").addClass("invalid"),$("input[name=carrier_0]").siblings("span:first").attr("data-error","Carrier [2 characters]"),n=!1):($("input[name=carrier_0]").removeClass("invalid"),$("input[name=carrier_0]").addClass("valid"),n=!0),e.length<3?($("input[name=txtOrigin]").removeClass("valid"),$("input[name=txtOrigin]").addClass("invalid"),$("input[name=txtOrigin]").siblings("span:first").attr("data-error","From  [3 characters]"),s=!1):($("input[name=txtOrigin]").removeClass("invalid"),$("input[name=txtOrigin]").addClass("valid"),s=!0),i.length<3?($("input[name=txtDest]").removeClass("valid"),$("input[name=txtDest]").addClass("invalid"),$("input[name=txtDest]").siblings("span:first").attr("data-error","To [3 characters]"),l=!1):($("input[name=txtDest]").removeClass("invalid"),$("input[name=txtDest]").addClass("valid"),l=!0),n&&s&&l&&(a=!0),a}function validateCustomStatusFields(){var t=$("input[name=carrier_3]").val(),e=$("#txtAcn").val(),i=$("#txtShipRef").val(),a=$("#txtHawb").val(),n=!1,s=!1,l=!1,r=!1,o=!1,d=!1;return $("input[name=selCountryCode]").val().length<2?($("input[name=selCountryCode]").removeClass("valid"),$("input[name=selCountryCode]").addClass("invalid"),$("input[name=selCountryCode]").siblings("span:first").attr("data-error","CountryCode [2 characters]"),d=!1):($("input[name=selCountryCode]").removeClass("invalid"),$("input[name=selCountryCode]").addClass("valid"),d=!0),t.length<2?($("input[name=carrier_3]").removeClass("valid"),$("input[name=carrier_3]").addClass("invalid"),$("input[name=carrier_3]").siblings("span:first").attr("data-error","Carrier [2 characters]"),s=!1):($("input[name=carrier_3]").removeClass("invalid"),$("input[name=carrier_3]").addClass("valid"),s=!0),e.length<3?($("#txtAcn").removeClass("valid"),$("#txtAcn").addClass("invalid"),$("#txtAcn").siblings("span:first").attr("data-error","Airline Code [3 digits]"),l=!1):($("#txtAcn").removeClass("invalid"),$("#txtAcn").addClass("valid"),l=!0),i.length<8?($("#txtShipRef").removeClass("valid"),$("#txtShipRef").addClass("invalid"),$("#txtShipRef").siblings("span:first").attr("data-error","Air Waybill [8 digits]"),r=!1):($("#txtShipRef").removeClass("invalid"),$("#txtShipRef").addClass("valid"),r=!0),a.length>14?($("#txtHawb").removeClass("valid"),$("#txtHawb").addClass("invalid"),$("#txtHawb").siblings("span:first").attr("data-error","HAWB [MAX 14 digits]"),o=!1):($("#txtHawb").removeClass("invalid"),$("#txtHawb").addClass("valid"),o=!0),s&&l&&r&&o&&d&&(n=!0),n}function validateTrackShipmentFields(){var t=$("input[name=carrier_2]").val(),e=$("#airline_code_1").val(),i=$("#air_waybill_1").val(),a=!1,n=!1,s=!1,l=!1;return t.length<2?($("input[name=carrier_2]").removeClass("valid"),$("input[name=carrier_2]").addClass("invalid"),$("input[name=carrier_2]").siblings("span:first").attr("data-error","Carrier [2 characters]"),a=!1):($("input[name=carrier_2]").removeClass("invalid"),$("input[name=carrier_2]").addClass("valid"),a=!0),e.length<3?($("#airline_code_1").removeClass("valid"),$("#airline_code_1").addClass("invalid"),$("#airline_code_1").siblings("span:first").attr("data-error","Airline Code [3 digits]"),n=!1):($("#airline_code_1").removeClass("invalid"),$("#airline_code_1").addClass("valid"),n=!0),i.length<8?($("#air_waybill_1").removeClass("valid"),$("#air_waybill_1").addClass("invalid"),$("#air_waybill_1").siblings("span:first").attr("data-error","Air Waybill [8 digits]"),s=!1):($("#air_waybill_1").removeClass("invalid"),$("#air_waybill_1").addClass("valid"),s=!0),a&&n&&s&&(l=!0),l}function toggle(t){var e=$("#schedulestable").children().length;if(e<=10)$("#show").html(""),$("#show").hide();else{if("LESS"==t){$("#schedulestable tr").hide();for(var i=1;i<=10;i++)$("#schedulestable tr:nth-child("+i+")").show();$("#show").html("&#x25BC;&nbsp;SHOW MORE ("+(e-10)+" FLIGHTS)&nbsp;&#x25BC;")}else"MORE"==t&&($("#schedulestable tr").show(),$("#show").html("&#x25B2;&nbsp;SHOW LESS &nbsp;&#x25B2;"));$("#show").show()}}function callFlightStatus(t,e){var i=$("input[name=carrier_0]").val();$("#schedules_action").hide(),document.getElementById("flightstatus1").click(),$("input[name=carrier_1]").val(i),$("input[name=flight_number]").val(e),$("input[name=flight_date_0]").val(t),$("#flight_date_0").siblings("label:first").attr("class","active"),$("#flight_number").siblings("label:first").attr("class","active"),$("#carrier_1").siblings("label:first").attr("class","active");var a="retrieve=YES&selCarrier="+i+"&txtFlightNbr="+e+"&selFlightDate="+t.replace(/\s/g,""),n="/lmsweb/app/common/flightstatusajax.jsp?"+(a+="&hdnCallFrom=NEWUI");loadingOverlay("open"),$.ajax({type:"POST",url:n,cache:!1,success:function(t,e,i){setTimeout((function(){$("#contentDiv").html(t),loadingOverlay("close"),$("#gotitbutton").css({display:"block"})}),1500)},error:function(t,e,i){$.get("/lmsweb/app/SignOn/Error/FlightStatusError.jsp",(function(t){signOnActionData(t)}));loadingOverlay("close"),console.log("error detected"+i),$("#gotitbutton").css({display:"block"})},async:!0});$.get("/lmsweb/app/SignOn/ActionData/".concat("FlightStatus",".jsp"),{async:!0},(function(t){signOnActionData(t)}))}function playVideo(t){0==t?$("#home-booking-cps").find("iframe")[t].src="https://player.vimeo.com/video/309143738?autoplay=1":1==t||2==t?$("#home-booking-cps").find("iframe")[t].src="https://player.vimeo.com/video/207546007?autoplay=1":3==t&&($("#home-booking-cps").find("iframe")[t].src="https://www.youtube.com/watch?v=52Wme7WEc7s&feature=youtube?autoplay=1")}function openRegistration(){window.location="/lmsweb/app/RegistrationNewUser/index.jsp"}function openLogin(){var t=document.getElementById("schedules-success-modal");M.Modal.init(t,{dismissible:!0}).destroy(),document.getElementById("login_button").click()}function schedulesShowMore(){var t=$("#schedulestable").children().length,e=0;t<=10?(e=0,$("#show").html(""),$("#show").hide()):(e=t-10,$("#show").html("&#x25BC;&nbsp;SHOW MORE ("+e+" FLIGHTS)&nbsp;&#x25BC;"),$("#show").show()),$("#schedulestable tr").hide();for(var i=1;i<=10;i++)$("#schedulestable tr:nth-child("+i+")").show();$("#show").click((function(){$.trim($("#show").html()).toUpperCase();if("SIGNON"==$("input#role").val()){var t=document.getElementById("schedules-success-modal");M.Modal.init(t,{dismissible:!0}).open()}}))}function ajaxLogin(t,e,i){var a="txtUser="+t+"&txtPassword="+e,n=getXMLHttpRequest();$(".loading-overlay").show(),$("span.red-text").text(""),$(i).css({display:"none"}),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){if(null!=n.response&&n.response.length>0){var t=n.response,e=$($.parseHTML(t)).filter("#errors").val();if(console.log("error::::"+e),void 0!==e&&e.length>0){if(!e.includes("UPDATE PASSWORD AND LOGIN"))return e=e.substring((-1!=e.indexOf(":")?e.indexOf(":"):0)+1,e.length),$("span.red-text").text(e),$(i).css({display:"block"}),void $(".loading-overlay").hide();"UPDATE PASSWORD AND LOGIN"==e&&void 0!==n.responseURL&&(window.location.href=n.responseURL)}}if($(".loading-overlay").hide(),void 0!==n.responseURL)window.location.href=n.responseURL;else if(null!=n.response&&n.response.length>0){var a=$($.parseHTML(t)).filter("#landingPageUrl").val();console.log("landingPageUrl::::"+a),location.href=a}}},n.open("POST","/lmsweb/app/SignOn/signon_check.jsp",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(a)}function getXMLHttpRequest(){var t;if(window.ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}}else window.XMLHttpRequest&&(t=new XMLHttpRequest);return t}