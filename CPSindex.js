function validate_getValExp(e){var t="",a=e%100,e=(e-a)/100;return 1==e?t="0123456789":2==e?t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ":3==e&&(t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),1==a?t+=" ":2==a?t+=".":3==a?t+="- ":4==a?t+=".-":5==a?t+=".- ":6==a?t+=".-+ ":7==a?t+=".-_ ":8==a?t+=".-_,;@~'":9==a?t+=".-_#& ":10==a?t+=".-_#@;,~/ :":11==a?t+=".-_#@;,~/ \r\n":12==a?t+=";":13==a?t+=".-* ":14==a?t+=".-_#@;,~ :":15==a?t+="-/ ":16==a?t+=".":17==a?t+=",- ":18==a?t+=".-_#@;?,~/ :":20==a?t+=".-_#@;,~/ \r\n&":21==a?t+=".-_#@;~ :":22==a?t+=".-/<= ":23==a?t+=".-& ":24==a&&(t+="-"),t}function validate_getValMsg(e){var t="",e=(e-e%100)/100;return 1==e?t="Only numbers are accepted!":2==e?t="Only letters are accepted!":3==e&&(t="Only letters and numbers are accepted!"),t}function validate_testValid(e,t){for(var a=0;a<e.length;a++){var l=""+e.substring(a,a+1);if(-1==t.indexOf(l))return!1}return!0}function validate_isBlank(e){if(null==e||0==e.length)return!0;for(cnt=0;cnt<e.length;cnt++)if(" "!=e.charAt(cnt)&&"\t"!=e.charAt(cnt)&&"\n"!=e.charAt(cnt)&&"\r"!=e.charAt(cnt))return!1;return!0}function validate_doAlertFocus(e,t,a,l){a&&alert(t),e&&l&&(e.focus(),e&&null==e.options&&e.select())}function validate_checkField(e,t,a,l,i,r,n,u){var d="The follwing field(s) are invalid --\n\n";return e&&t&&validate_isBlank(e.value)?(validate_doAlertFocus(e,d+=e.title,n,u),!1):e&&0<e.value.length&&(e&&e.value.length<a||e&&e.value.length>l)?(validate_doAlertFocus(e,d=!e||null==e.title||"Password"!=e.title&&"User ID"!=e.title?"Field length invalid! Minimum = "+a+" Maximum = "+l+"!":"Invalid User ID and/or Password. Please check and re-enter.",n,u),!1):e&&0!=i&&!validate_testValid(e.value,validate_getValExp(i))?(validate_doAlertFocus(e,validate_getValMsg(i),n,u),!1):!(e&&0!=i&&!validate_testDecimal(e,i))&&(e&&r&&(e.value=e.value.toUpperCase()),!0)}function validate_testDecimal(e,t){var a=t%100;return 16!=a||!e||-1==e.value.indexOf(".")||e.value.indexOf(".")==e.value.lastIndexOf(".")}function validate_checkList(e,t,a,l){var i="The follwing field(s) are invalid --\n\n";if(e&&null!=e.options){if(t&&validate_isBlank(e.options[e.selectedIndex].value))return validate_doAlertFocus(e,i+e.title,a,l),!1}else if(e&&t&&validate_isBlank(e.value))return validate_doAlertFocus(e,i+e.title,a,l),!1;return!0}function validate_checkStation(e){if(5<e.length||e.length<3)return!1;var t=0;return t<3?65<=(t=e.charCodeAt(t))&&t<=90||97<=t&&t<=122:void 0}function validate_checkShipRef(e,t,a){var l="The follwing field(s) are invalid --\n\n";if(e&&""==e.value)return msg=l+"Air Waybill[8 digits]",validate_doAlertFocus(e,msg,t,a),!1;if(e&&(e.value.length<8||9<e.value.length))return msg=l+"Air Waybill[8 digits]",validate_doAlertFocus(e,msg,t,a),!1;var i=!1;if(e&&""<e.value.charAt(8)){var r=e.value.charAt(8);if("x"!=r&&"X"!=r&&" "!=r)return msg=l+"Air Waybill[8 digits]",validate_doAlertFocus(e,msg,t,a),!1;i=!0}return e&&!validate_testValid(e.value.substring(0,8),validate_getValExp(100))?(msg=l+"Air Waybill[8 digits]",validate_doAlertFocus(e,msg,t,a),!1):e&&!i&&e.value.substring(0,7)%7!=e.value.charAt(7)?(msg=l+"AWB number not modulus of 7",validate_doAlertFocus(e,msg,t,a),!1):(e&&(e.value=e.value.toUpperCase()),!0)}function validate_checkFlight(e,t,a){if(""==e&&!validate_checkFlightPrefix(t)&&a)return!1;if(validate_checkFlightPrefix(t)&&validate_checkFlightSuffix(t)){if(!validate_checkField(t,a,4,7,300,!0,!1,!1))return!1}else if(validate_checkFlightPrefix(t)){if(!validate_checkField(t,a,3,8,300,!0,!1,!1))return!1}else if(validate_checkFlightSuffix(t)){if(!validate_checkField(t,a,2,5,300,!0,!1,!1))return!1}else if(!validate_checkField(t,a,1,4,100,!0,!1,!1))return!1;return t.value=validate_formatFlight(e,t),!0}function validate_checkFlightPrefix(e){e=e.value;return!!(2<e.length&&(validate_testValid(e.substring(0,1),validate_getValExp(200))||validate_testValid(e.substring(1,2),validate_getValExp(200))))}function validate_checkFlightSuffix(e){e=e.value;return!!(1<e.length&&validate_testValid(e.substring(e.length-1,e.length),validate_getValExp(200)))}function validate_addFlightZeros(e){var t="";return 1==e.length?t="00":2==e.length&&(t="0"),t+e}function validate_formatFlight(e,t){var a=t.value,l=e,i=a,e="";return 0==a.length?"":("UA"==(l="UB"==l?"UA":l)&&"T"==a.substring(0,1)&&(t.value="UA"+a,a=t.value),validate_checkFlightPrefix(t)&&(l=a.substring(0,2),i=a.substring(2,a.length)),validate_checkFlightSuffix(t)&&(e=i.substring(i.length-1,i.length),i=i.substring(0,i.length-1)),(l="--"==l?"XX":l)+(i=validate_addFlightZeros(i))+e)}function validate_checkIATA(e){if(null==e)return!1;if(9!=e.length&&14!=e.length)return!1;if("-"!=e.charAt(2))return!1;if(" "!=e.charAt(4))return!1;if(!validate_testValid(e.substring(0,2),validate_getValExp(100)))return!1;if(!validate_testValid(e.substring(3,4),validate_getValExp(100)))return!1;if(!validate_testValid(e.substring(5,9),validate_getValExp(100)))return!1;if(14==e.length){if("/"!=e.charAt(9))return!1;if(!validate_testValid(e.substring(10,14),validate_getValExp(100)))return!1}return!0}function validate_specialAccount(e){if(!validate_checkField(e,!1,4,14,115,!0,!1,!1))return!1;var t=e.value.indexOf("/");return-1==t||!(e.value.length-t!=5||t<4)}function validateFrmMenuTracking(){if(frmMenuTracking){var e="";validate_checkShipRef(document.frmMenuTracking.txtSRF0,!1,!0)||(document.frmMenuTracking.txtSRF0.select(),e="Air Waybill [8 digits] \n"+e),validate_checkField(document.frmMenuTracking.txtACN0,!0,3,3,100,!1,!1,!0)||(e="Airline Code [3 digits]\n"+e);var t=document.frmMenuTracking.selCarrier0[document.frmMenuTracking.selCarrier0.selectedIndex].value;if(null!=t&&0==t.length&&(e="Carrier [2 chars] \n"+e,document.frmMenuTracking.selCarrier0.focus()),0<e.length)return alert("The following field(s) are invalid --\n\n"+e),!1}return!0}function validatefrmCustoms(){if(frmCustoms){var e="";validate_checkShipRef(document.frmCustoms.txtShipRef,!1,!0)||(document.frmCustoms.txtShipRef.select(),e="Air Waybill [8 digits]\n"+e),validate_checkField(document.frmCustoms.txtAcn,!0,3,3,100,!1,!1,!0)||(e="Airline Code [3 digits]\n"+e);var t=document.frmCustoms.selCarrier0[document.frmCustoms.selCarrier.selectedIndex].value;if(null!=t&&0==t.length&&(e="Carrier [2 chars] \n"+e,document.frmCustoms.selCarrier.focus()),0<e.length)return alert("The following field(s) are invalid --\n\n"+e),!1}return!0}function validateFrmMenuStatus(){var e="";return!(frmMenuStatus&&(validate_checkFlight(document.frmMenuStatus.selCarrier.options[document.frmMenuStatus.selCarrier.selectedIndex].value,document.frmMenuStatus.txtFlightNbr,1)||(e="Flight No. [7 chars] \n"+e,document.frmMenuStatus.txtFlightNbr.focus()),0==document.frmMenuStatus.selCarrier.selectedIndex&&(e="Carrier [2 chars] \n"+e,document.frmMenuStatus.selCarrier.focus()),0<e.length))||(alert("The following field(s) are invalid --\n\n"+e),!1)}function validate_customCheckTime(e,t){if(!t&&validate_isBlank(e.value)||"HH:MM"==e.value)return!0;if(1<e.value.length&&e.value.length<5)return!1;if(2!=e.value.indexOf(":"))return!1;t=e.value.substring(0,2);if(!validate_testValid(t,validate_getValExp(100))||t<"00"||"23"<t)return!1;e=e.value.substring(3,5);return!(!validate_testValid(e,validate_getValExp(100))||e<"00"||"59"<e)}function validate_checkTime(e,t,a,l){var i="The following field(s) are invalid --\n\n";if(pFldvalue=e.value.replace(":",""),!t&&validate_isBlank(pFldvalue))return!0;if(t&&(validate_isBlank(pFldvalue)||4!=pFldvalue.length))return validate_doAlertFocus(e,i+e.title,a,l),!1;t=pFldvalue.substring(0,2);if(!validate_testValid(t,validate_getValExp(100))||t<"00"||"23"<t)return validate_doAlertFocus(e,i+e.title,a,l),!1;t=pFldvalue.substring(2,4);return!(!validate_testValid(t,validate_getValExp(100))||t<"00"||"59"<t)||(validate_doAlertFocus(e,i+e.title,a,l),!1)}function validate_checkEmail(e,t,a){if(!a&&validate_isBlank(e.value))return!0;if(!validate_checkField(e,a,6,t,308,!1,!1,!0))return!1;a=e.value.indexOf("@");if(-1==a||a<1)return!1;t=e.value.indexOf(".",a);return-1!=t&&t+1!=e.value.length&&!(t-a<2)}function isEnglishCharSet(e){return!!/^[a-zA-Z0-9 `~!@#\$%\^&\*\(\)_\-=\+\{\[\}\]:;"'<>,\.\?\/\|\\\s]*$/.exec(e)}function validateFrmScheds(){var e="";if(frmScheds){var t=document.frmScheds.txtDest.value,a=document.frmScheds.txtOrigin.value;if((0==t.length||t.length<3||3<t.length)&&(e="To [Destination Station] \n"+e,document.frmScheds.txtDest.focus()),(0==a.length||a.length<3||3<a.length)&&(e="From [Origin Station] \n"+e,document.frmScheds.txtOrigin.focus()),validate_customCheckTime(document.frmScheds.txtDepart,!1)||(e="Dep Time [HH:MM] \n"+e,document.frmScheds.txtDepart.focus()),0==document.frmScheds.selCarrier.selectedIndex&&(e="Carrier [Carrier Code] \n"+e,document.frmScheds.selCarrier.focus()),0<e.length)return alert("The following field(s) are invalid --\n\n"+e),e="",!1}return!0}var isValidStation;function validateStation(e,t){t="/lmsweb/handler.jsp?qsStation="+e.value+"&qsValidateStation=Y&qsCarrier="+t;return Common_getServerInfoByAJAX(t,!0,processRequest,"",!1),isValidStation||(e.select(),e.focus(),window.event.cancelBubble=!0),isValidStation}function processRequest(e){document.getElementById("stationValdnMsg")&&(document.getElementById("stationValdnMsg").innerHTML=e,isValidStation=!(2<document.getElementById("stationValdnMsg").innerHTML.length)||(alert(document.getElementById("stationValdnMsg").innerHTML),!(msgAlerted=!0)))}function setAirlineCodeForMenuTracking(){var jspFrm=document.frmMenuTracking,bkgCarr=jspFrm.selCarrier0[jspFrm.selCarrier0.selectedIndex].value;""!=bkgCarr?(jspFrm.txtACN0.value="AF-KL"==bkgCarr?eval("AFKL_ACN"):eval(bkgCarr+"_ACN"),jspFrm.txtSRF0.focus()):jspFrm.txtACN0.value=""}function setAirlineCodeForCustom(){var jspFrm=document.frmCustoms,bkgCarr=jspFrm.selCarrier[jspFrm.selCarrier.selectedIndex].value;""!=bkgCarr?(jspFrm.txtAcn.value="AF-KL"==bkgCarr?eval("AFKL_ACN"):eval(bkgCarr+"_ACN"),jspFrm.txtShipRef.focus()):jspFrm.txtAcn.value=""}function validate_getValExp_signon(e){var t="",a=e%100,e=(e-a)/100;return 1==e?t="0123456789":2==e?t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ":3==e?t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.-+_,;~@#$%^&*/:!":4==e&&(t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),1==a?t+=" ":2==a?t+=".":3==a?t+="- ":4==a?t+=".-":5==a?t+=".- ":6==a?t+=".-+ ":7==a?t+=".-_ ":8==a?t+=".-_,;@~'":9==a?t+=".-_#& ":10==a?t+=".-_#@;,~/ :":11==a?t+=".-_#@;,~/ \r\n":12==a?t+=";":13==a?t+=".-* ":14==a?t+=".-_#@;,~ :":15==a?t+="-/ ":16==a?t+=".":17==a&&(t+=",- "),t}function validate_checkField_signon(e,t,a,l,i,r,n,u){return t&&validate_isBlank(e.value)?(validate_doAlertFocus(e,e.title+" Required!",n,u),!1):0<e.value.length&&(e.value.length<a||e.value.length>l)?(validate_doAlertFocus(e,null==e.title||"Password"!=e.title&&"User ID"!=e.title?"Field length invalid! Minimum = "+a+" Maximum = "+l+"!":"Invalid User ID and/or Password. Please check and re-enter.",n,u),!1):0==i||validate_testValid(e.value,validate_getValExp_signon(i))?!(0!=i&&!validate_testDecimal(e,i))&&(r&&(e.value=e.value.toUpperCase()),!0):(validate_doAlertFocus(e,validate_getValMsg(i),n,u),!1)}function validate_checkRemark(e){return!!validate_isBlank(e)||!!/^[a-zA-Z0-9 @\.\s~#\-_,;:\\]*$/.exec(e)}function validate_checkRemarksNZ(e){return!!validate_isBlank(e)||!!/^[a-zA-Z0-9 @\.\s~#\-_,;:\\/]*$/.exec(e)}function validate_checkRemarkUpdateAFKL(e){return!!validate_isBlank(e)||!!/^[a-zA-Z0-9 @\.\s~#\-_,;:\|\\]*$/.exec(e)}
function toggleView(e){document.getElementById?document.getElementById(e).style.display="block"==document.getElementById(e).style.display?"none":"block":document.all&&(document.all[e].style.display="block"==document.all[e].style.display?"none":"block")}function toggleImg(e){null!=e&&(-1!=e.src.indexOf(imgMaximize.src)?e.src=imgMinimize.src:e.src=imgMaximize.src)}document.images&&(imgMaximize=new Image,imgMaximize.src="/lmsweb/images/maximize.jpg",imgMinimize=new Image,imgMinimize.src="/lmsweb/images/minimize.jpg");
var listboxSize=35;function listbox_addItem(t,e,n,l){t&&(t.options[t.length]=new Option(n,e,l,l))}function listbox_addSPLItem(t,e,n,l,o){t&&(t.options[t.length]=new Option(n,e,o,o),t.options[t.length-1].DESC=l)}function listbox_addBlank(t,e){var n="";if(t){for(cnt=0;cnt<e;cnt++)n+=" ";listbox_addItem(t,"",n,!1)}}function listbox_removeItem(t,e){t&&(t.options[e]=null)}function listbox_removeSelected(t){if(t)for(cnt=t.length-1;0<=cnt;cnt--)t.options[cnt].selected&&listbox_removeItem(t,cnt)}function listbox_removeBlanks(t){if(t)for(cnt=t.length-1;0<=cnt;cnt--)""==t.options[cnt].value&&listbox_removeItem(t,cnt)}function listbox_removeAll(t){if(t)for(cnt=t.length-1;0<=cnt;cnt--)listbox_removeItem(t,cnt)}function listbox_setSelected(t,e){null!=t&&0<t.length&&(t.options[e].selected=!0,t.options[e].defaultSelected=!0,t.selectedIndex=e)}function listbox_clearSelected(t){if(t)for(cnt=0;cnt<t.length;cnt++)t.options[cnt].selected=!1,t.options[cnt].defaultSelected=!1}function listbox_foundCopy(t,e){return listbox_checkForValue(e,t.value)}function listbox_moveItemAcct(t,e){t&&e&&(validate_checkIATA(t.value)||validate_specialAccount(t)||validate_checkField(t,!0,1,14,305,!0,!1,!0))?(listbox_foundCopy(t,e)||(listbox_clearSelected(e),listbox_removeBlanks(e),listbox_addItem(e,Common_Trim(t.value),Common_Trim(t.value),!0),listbox_addBlank(e,listboxSize)),t.value=""):alert("Invalid input format!")}function listbox_moveItemMulti(t,e){if(t&&e){for(listbox_clearSelected(e),cnt=t.length-1;0<=cnt;cnt--)t.options[cnt].selected&&""!=t.options[cnt].value&&(listbox_addItem(e,t.options[cnt].value,t.options[cnt].value,!0),listbox_removeItem(t,cnt));listbox_removeBlanks(t),listbox_addBlank(t,listboxSize),listbox_removeBlanks(e),listbox_addBlank(e,listboxSize)}}function listbox_populateList(t,e,n,l,o,i,c){for(listbox_removeAll(n),o&&listbox_addBlank(n,i),cnt=0;cnt<t.length;cnt++)cnt==l?listbox_addItem(n,t[cnt],e[cnt],!0):listbox_addItem(n,t[cnt],e[cnt],!1);o?c&&-1==l?l=1:l++:-1==l&&(l=0),listbox_setSelected(n,l)}function listbox_populateSPLList(t,e,n,l,o,i,c,s){for(listbox_removeAll(l),i&&listbox_addBlank(l,c),cnt=0;cnt<t.length;cnt++)cnt==o?listbox_addSPLItem(l,t[cnt],e[cnt],n[cnt],!0):listbox_addSPLItem(l,t[cnt],e[cnt],n[cnt],!1);i?s&&-1==o?o=1:o++:-1==o&&(o=0),listbox_setSelected(l,o)}function listbox_changeLists(t,e,n,l,o){listbox_changeList(t,e,n,l,o,!0,listboxSize,!0)}function listbox_changeList(t,e,n,l,o,i,c,s){listbox_changeListData(t,e,n,n,l,o,i,c,s)}function listbox_changeListData(t,e,n,l,o,i,c,s,a){if(!(t&&e&&n&&l))return!1;var d=t.length-n.length,r=t.selectedIndex-d;if(r<0)listbox_removeAll(e),listbox_addBlank(e,s);else{var x=-1;if(t.options[t.selectedIndex].value==o)for(cnt=0;cnt<n[r].length;cnt++)n[r][cnt]==i&&(x=cnt);"AA"==o&&-1<x&&0==n[r][x].length&&(x=-1),listbox_populateList(n[r],l[r],e,x,c,s,a)}}function listbox_changeListSPLData(t,e,n,l,o,i,c,s,a,d){if(!(t&&e&&n&&l))return!1;var r=t.length-n.length,x=t.selectedIndex-r;if(x<0)listbox_removeAll(e),listbox_addBlank(e,a);else{var _=-1;if(t.options[t.selectedIndex].value==i)for(cnt=0;cnt<n[x].length;cnt++)n[x][cnt]==c&&(_=cnt);listbox_populateSPLList(n[x],l[x],o[x],e,_,s,a,d)}}function listbox_changeRole(t,e,n){var l=t.length-n.length,o=t.selectedIndex-l;for(cnt=0;cnt<e.options.length;cnt++)if(e.options[cnt].value==n[o]){e.selectedIndex=cnt;break}}function listbox_checkDisabled(t,e,n){"profile"==t.options[t.selectedIndex].value?(e.className="disabled",e.disabled=!0):(e.className=n?"mandatory":"optional",e.disabled=!1)}function listbox_checkCarrier(t,e){if(null==t||null==e)return!0;for(var n=e.indexOf("|");-1!=n;){if(tempStr=e.substring(0,n),t.options[t.selectedIndex].value==tempStr)return alert("This service is not available for the selected carrier ("+tempStr+")."),t.selectedIndex=0,!1;n=(e=e.substring(n+1)).indexOf("|")}return!0}function listbox_checkCarrier_forMAWB(t,e){if(null==t||null==e)return!0;for(var n=e.indexOf("|");-1!=n;){if(tempStr=e.substring(0,n),t.options[t.selectedIndex].value==tempStr)return alert("This service is not available for the selected carrier ("+tempStr+")."),t.selectedIndex=0,!1;n=(e=e.substring(n+1)).indexOf("|")}return!0}function listbox_checkForValue(t,e){for(var n=0;n<t.options.length;n++)if(t.options[n].value==e)return!0;return!1}function listbox_changeListDataForUA(t,e,n,l,o,i,c,s,a){if(!(t&&e&&n&&l))return!1;var d=t.length-n.length,r=t.selectedIndex-d;if(r<0)listbox_removeAll(e),listbox_addBlank(e,s);else{var x=-1;if(t.options[t.selectedIndex].value==o)for(cnt=0;cnt<n[r].length;cnt++)n[r][cnt]==i&&(x=cnt);listbox_populateListForUA(n[r],l[r],e,x,c,s,a)}}function listbox_populateListForUA(t,e,n,l,o,i,c){for(listbox_removeAll(n),o&&listbox_addBlank(n,i),cnt=0;cnt<t.length;cnt++)cnt==l?listbox_addItem(n,t[cnt],e[cnt]+"~"+t[cnt],!0):listbox_addItem(n,t[cnt],e[cnt]+"~"+t[cnt],!1);o?c&&-1==l?l=1:l++:-1==l&&(l=0),listbox_setSelected(n,l)}function listbox_removeSelected_xlsmawb(t){if(t){if("ALL"==t.value.substring(5,8))return alert(" 'ALL' is the carrier global setup, hence modification is not allowed."),!1;for(cnt=t.length-1;0<=cnt;cnt--)t.options[cnt].selected&&listbox_removeItem(t,cnt)}}function listbox_moveItemAcct_VS(t,e){t&&e&&(validate_checkIATA(t.value)||validate_specialAccount(t)||validate_checkField(t,!0,1,15,305,!0,!1,!0))?(listbox_foundCopy(t,e)||(listbox_clearSelected(e),listbox_removeBlanks(e),listbox_addItem(e,Common_Trim(t.value),Common_Trim(t.value),!0),listbox_addBlank(e,listboxSize)),t.value=""):alert("Invalid input format!")}function listbox_changeListData_Commodity(t,e,n,l,o,i,c,s,a){if(!(t&&e&&n&&l))return!1;var d=t.length-n.length,r=t.selectedIndex-d;if(r<0)listbox_removeAll(e),listbox_addBlank(e,s);else{var x=-1;if(t.options[t.selectedIndex].value==o)for(cnt=0;cnt<n[r].length;cnt++)n[r][cnt]==i&&(x=cnt);listbox_populateList_Commodity(n[r],l[r],e,x,c,s,a)}}function listbox_populateList_Commodity(t,e,n,l,o,i,c){for(listbox_removeAll(n),o&&listbox_addBlank(n,i),cnt=0;cnt<t.length;cnt++)cnt==l?listbox_addItem(n,t[cnt],t[cnt]+" - "+e[cnt],!0):listbox_addItem(n,t[cnt],t[cnt]+" - "+e[cnt],!1);o?c&&-1==l?l=1:l++:-1==l&&(l=0),listbox_setSelected(n,l)}function listbox_changeListDataForUA_ULD(t,e,n,l,o,i,c,s,a){if(!(t&&e&&n&&l))return!1;var d=t.length-n.length,r=t.selectedIndex-d;if(r<0)listbox_removeAll(e),listbox_addBlank(e,s);else{var x=-1;if(t.options[t.selectedIndex].value==o)for(cnt=0;cnt<n[r].length;cnt++)l[r][cnt]+" - "+n[r][cnt]==i&&(x=cnt);listbox_populateListForUA_ULD(n[r],l[r],e,x,c,s,a)}}function listbox_populateListForUA_ULD(t,e,n,l,o,i,c){for(listbox_removeAll(n),o&&listbox_addBlank(n,i),cnt=0;cnt<t.length;cnt++)cnt==l?listbox_addItem(n,e[cnt]+" - "+t[cnt],e[cnt]+" - "+t[cnt],!0):listbox_addItem(n,e[cnt]+" - "+t[cnt],e[cnt]+" - "+t[cnt],!1);o?c&&-1==l?l=1:l++:-1==l&&(l=0),listbox_setSelected(n,l)}function listbox_changeListData_Commodity_NZ(t,e,n,l,o,i,c,s,a){if(!(t&&e&&n&&l))return!1;var d=t.length-n.length,r=t.selectedIndex-d;if(r<0)listbox_removeAll(e),listbox_addBlank(e,s);else{var x=-1;if(t.options[t.selectedIndex].value==o)for(cnt=0;cnt<n[r].length;cnt++)n[r][cnt]==i&&(x=cnt);listbox_populateList_Commodity_NZ(n[r],l[r],e,x,c,s,a)}}function listbox_populateList_Commodity_NZ(t,e,n,l,o,i,c){for(listbox_removeAll(n),o&&listbox_addBlank(n,i),cnt=0;cnt<t.length;cnt++)cnt==l?listbox_addItem(n,t[cnt],e[cnt]+" - "+t[cnt],!0):listbox_addItem(n,t[cnt],e[cnt]+" - "+t[cnt],!1);o?c&&-1==l?l=1:l++:-1==l&&(l=0),listbox_setSelected(n,l)}
var common_wasDisplayed=!1,common_winStnSelect=null,common_winTrkDetails=null,common_winBrochure=null,common_winNews=null,common_winSrvc=null,common_winFaqs=null,common_winAvail=null,common_winFeat=null,common_winUAPromo=null,common_winPromotions=null,common_winStories=null,common_myProfile=null,common_selectedRow=null,common_oldClass="",isNN=-1!=navigator.appName.indexOf("Netscape"),UTC_TIME_OFFSET_ORIGIN=0,UTC_TIME_OFFSET_DESTINATION=0,httpRequest;function common_openStnSelectWindow(e,t,o,n){(common_winStnSelect=window.open(e+"stn_select.jsp?hdnFromBkg="+t+"&hdnFormName="+o+"&hdnFieldName="+n,"StationWindow","directories=no,hotkeys=no,menubar=no,location=no,resizable=no,scrollbars=no,status=no,toolbar=no,height=400,width=425")).focus(),self.onfocus=new Function("common_closeWindow('stnselect')")}function common_openTrackDetailsWindow(e,t,o){(common_winTrkDetails=window.open(e+"tracking-details.jsp?hdnWaybill="+t+"&hdnCarrier="+o,"TrackingWindow","directories=no,hotkeys=no,menubar=no,location=no,resizable=yes,scrollbars=yes,status=no,toolbar=no,height=450,width=800")).focus(),self.onfocus=new Function("common_closeWindow('trkdetails')")}function common_openWindow(e){var t="directories=no,hotkeys=no,menubar=no,location=no,resizable=yes,scrollbars=yes,status=no,toolbar=no,",o="directories=no,hotkeys=no,menubar=no,location=no,resizable=yes,scrollbars=no,status=no,toolbar=no,";"brochure"==e?(common_winBrochure=window.open("/lmsweb/brochures.jsp?popup=Y","BrochureWindow",t+"height=414,width=1250")).focus():"contact"==e?(commom_winContactCPS=window.open("/lmsweb/contact-us.jsp?email=false","ContactUsWindow",t+"scrollbars=no,height=656,width=505"),commom_winContactCPS.focus()):"contactPS"==e?(commom_winContactCPSGen=window.open("/lmsweb/contact-us.jsp?email=YES","ContactUsWindow",t+"scrollbars=no,height=666,width=900"),commom_winContactCPSGen.focus()):"contactCarreirs"==e?(commom_winContactCPSCarriers=window.open("/lmsweb/contact-us.jsp?email=false","ContactUsWindow",t+"scrollbars=no,height=625,width=505"),commom_winContactCPSCarriers.focus()):"refcard"==e?(common_winRefCard=window.open("/lmsweb/reference-cards.jsp?popup=Y","RefCardWindow",t+"height=414,width=1250"),common_winRefCard.focus()):4<=e.length&&"news"==e.substring(0,4)?(common_winNews=window.open("/lmsweb/news.jsp?month="+e.substring(4),"NewsWindow",t+"height=525,width=738")).focus():4<=e.length&&"srvc"==e.substring(0,4)?(common_winSrvc=window.open("/lmsweb/servicenews.jsp?month="+e.substring(4),"SrvcWindow",t+"height=525,width=738")).focus():4<=e.length&&"demo"==e.substring(0,4)?(common_winSrvc=window.open("/lmsweb/CPS/INTRO/INTRO.html","DemoWindow",",resizable=yes,addressbar=yes,scrollbars=yes,status=yes,menubar=yes,toolbar=yes,height=580,width=1000")).focus():"faqs"==e?(common_winFaqs=window.open("/lmsweb/faqs.jsp","FAQsWindow",t+"height=580,width=520")).focus():"faqs18"==e?(common_winFaqs=window.open("/lmsweb/faqs.jsp#1.08","FAQsWindow",t+"height=580,width=500")).focus():"avail"==e?(common_winAvail=window.open("/lmsweb/secure/service_availability.jsp","AvailWindow",t+"height=414,width=725")).focus():"more"==e?(common_winAvail=window.open("/lmsweb/aboutcps.jsp","MoreWindow",t+"height=650,width=736,resizable=yes")).focus():"help_newuser"==e?(common_winAvail=window.open("/lmsweb/reghelpfornewuser.jsp","MoreWindow",t+"height=650,width=736,resizable=yes","_blank")).focus():"features"==e?(common_winFetGuides=window.open("/lmsweb/feature-guides.jsp?popup=Y","NewFeaturesWindow",o+"height=484, width=1224"),common_winFetGuides.focus()):"Help_Logging_In"==e?(common_winFetGuides=window.open("/lmsweb/WebHelp/How_Do_I/Get_Help_Logging_In.htm","Get_Help_Logging_In",t+"height=550 width=500"),common_winFetGuides.focus()):"UAPromo"==e?(common_winUAPromo=window.open("http://unitedpromos.com/cargo_ebooking/","UAPromoWindow",t+"height=800,width=1024,top=5,left=50,resizable=no")).focus():"CPSApps"==e?(common_winUAPromo=window.open("/lmsweb/DownloadCPSMobileApp.jsp","CPSMobileApps",t+"height=550,width=500,resizable=no,scrollbars=no")).focus():"eFreightDemo"==e?(common_winUAPromo=window.open("/lmsweb/CPS/CPS-Efreight-Demo/CPS-efreight-demo.html","EFreightDemo",t+"height=680,width=1000,resizable=no,scrollbars=no")).focus():"successstories"==e?(common_winFetGuides=window.open("/lmsweb/successs_stories.jsp?popup=Y","SuccessStoriesWindow",o+"height=357, width=1224"),common_winFetGuides.focus()):"DMS_upload"==e?(common_winFetGuides=window.open("/lmsweb/secure/DMS_upload.jsp","DMS_upload",o+"height=550,width=500"),common_winFetGuides.focus()):"newcarrier"==e?(common_winFetGuides=window.open("/lmsweb/secure/new-carrier.jsp","Collaboration",o+"height=600,width=1300"),common_winFetGuides.focus()):"eAWBTermsAA"==e?(common_winFetGuides=window.open("/lmsweb/docs/aa/eAWB Terms.pdf","eAWB Terms",o+"height=600,width=600"),common_winFetGuides.focus()):(common_winFeat=window.open("/lmsweb/new_features.jsp?feature="+e,"FeatureWindow",t+"height=350,width=738")).focus()}function common_openWindowForStories(e){var t="directories=no,hotkeys=no,menubar=no,location=no,resizable=yes,scrollbars=yes,status=no,toolbar=no,";1==e?common_winStories=window.open("/lmsweb/docs/stories/Story CPS e-air waybill.pdf","StoriesWindow",t+"height=360,width=738"):2==e?common_winStories=window.open("/lmsweb/docs/stories/CPS - A great tool say forwarders.pdf","StoriesWindow",t+"height=360,width=738"):3==e?common_winStories=window.open("/lmsweb/docs/stories/CPS booking volumes.pdf","StoriesWindow",t+"height=360,width=738"):4==e?common_winStories=window.open("/lmsweb/docs/stories/CPS global reach.pdf","StoriesWindow",t+"height=360,width=738"):5==e?common_winStories=window.open("/lmsweb/docs/stories/One carriers guide to e-booking.pdf","StoriesWindow",t+"height=360,width=738"):6==e?common_winStories=window.open("/lmsweb/docs/stories/The internets long tail of CPS fowrarders.pdf","StoriesWindow",t+"height=360,width=738"):7==e?common_winStories=window.open("/lmsweb/docs/stories/Story Specialized bookings made easy on CPS.pdf","StoriesWindow",t+"height=360,width=738"):8==e?common_winStories=window.open("/lmsweb/docs/stories/Story CPS keeps growing (FFwd 3Q2011).pdf","StoriesWindow",t+"height=360,width=738"):9==e&&(common_winStories=window.open("/lmsweb/docs/e-Claims.pdf","StoriesWindow",t+"height=360,width=738"))}function common_openWindowForPromotions(e,t){(common_winPromotions=window.open("/lmsweb/secure/Promotion_display.jsp?PromotionReferenceID="+e+"&CarrierCode="+t,"PromotionsWindow","directories=no,hotkeys=no,menubar=no,location=no,resizable=yes,scrollbars=yes,status=no,toolbar=no,height=380,width=730")).focus()}function common_openBookingCreateForSPOT(e,t,o,n,a,r){common_BookingCreateForSPOT=window.open("/lmsweb/secure/booking-create-details.jsp?fromPage=SPOT&selCarrier="+e+"&txtRouting1="+t+"&txtRouting2="+o+"&txtShipRef="+n+"&txtFlightS="+a+"&selDateS="+r,"BookingCreateDetails"),common_BookingCreateForSPOT.focus()}function common_closeWindow(e){var t=null;null==(t="brochure"==e?common_winBrochure:"news"==e?common_winNews:"srvc"==e?common_winSrvc:"faqs"==e?common_winFaqs:"avail"==e?common_winAvail:"stnselect"==e?common_winStnSelect:"trkdetails"==e?common_winTrkDetails:"UAPromo"==e?common_winUAPromo:common_winFeat)||t.closed||t.close()}function common_showHostErrors(e){if(0==common_wasDisplayed){for(var t="";-1!=e.indexOf("|");)t+=e.substring(0,e.indexOf("|"))+"\n",e=e.substring(e.indexOf("|")+1,e.length);0==(t+=e).length&&(t+="Unknown Error Encountered!"),alert(t),common_wasDisplayed=!0}}function common_showHostMore(e){for(var t="";-1!=e.indexOf("|");){var o=e.substring(0,e.indexOf("|"));null!=t&&null!=o&&0!=o.length&&-1==t.indexOf(o)&&(t+=e.substring(0,e.indexOf("|"))+", "),e=e.substring(e.indexOf("|")+1,e.length)}0<(t=t.substring(0,t.length-2)).length&&(t="More results available than could be displayed for: "+t+"\n\n",t+="Please modify date range to reduce number of results.",alert(t))}function Common_Trim(e){var t=/^([\w\W]*)(\b\s*)$/;t.test(e)&&(e=e.replace(t,"$1"));t=/\s*((\S+\s*)*)/;return e=t.test(e)?e.replace(t,"$1"):e}function Common_selectItems(e){e=e.target||e.srcElement;if("TD"!=(e="A"==e.tagName?e.parentElement||e.parentNode:e).tagName&&"INPUT"!=e.tagName)return!1;for(var t=e.parentElement||e.parentNode;"TR"!=t.tagName;)t=t.parentElement||t.parentNode;for(;(t.parentElement||t.parentNode)&&"TR"!=t.tagName;)t=t.parentElement||t.parentNode;if(common_selectedRow){common_selectedRow.className="rowSelect";for(var o=0;o<common_selectedRow.childNodes.length;o++)1==common_selectedRow.childNodes.item(o).nodeType&&(common_selectedRow.childNodes[o].className=common_oldClass);if(t==common_selectedRow)return void(common_selectedRow=null);common_selectedRow=null}if("rowSelected"!=t.className){t.className="rowSelected";for(o=0;o<t.childNodes.length;o++)1==t.childNodes.item(o).nodeType&&(common_oldClass=t.childNodes.item(o).className,t.childNodes.item(o).className="rowSelected");common_selectedRow=t}}function Common_getServerInfoByAJAX(e,t,o,n,a){Common_CreateXmlHttp(),Common_ConfigureXmlHttp(e,t,o,n,a)}function Common_CreateXmlHttp(){if(window.ActiveXObject)try{httpRequest=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{httpRequest=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){httpRequest=!1}}else window.XMLHttpRequest&&(httpRequest=new XMLHttpRequest)}function Common_ConfigureXmlHttp(e,t,o,n,a){httpRequest&&(httpRequest.open("POST",e,a),httpRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),httpRequest.onreadystatechange=function(){Common_CallBack(t,o)},httpRequest.send(n),isNN&&Common_CallBack(t,o))}function Common_CallBack(e,t){4==httpRequest.readyState&&(200==httpRequest.status?t(e?httpRequest.responseText:httpRequest.responseXML):alert("Error loading page\n"+httpRequest.status+":"+httpRequest.statusText))}function common_autoTab(e,t,o){o=isNN?o.which:o.keyCode;return e.value.length>=t&&!function(e,t){var o=!1,n=0;for(;!o&&n<e.length;)e[n]==t?o=!0:n++;return o}(isNN?[0,8,9]:[0,8,9,16,17,18,37,38,39,40,46],o)&&(e.value=e.value.slice(0,t),e.form[(function(e){var t=-1,o=0;for(;o<e.form.length&&-1==t;)e.form[o]==e?t=o:o++;return t}(e)+1)%e.form.length].focus()),!0}function common_nwDate(e){var t,o;" "<e&&(a=e.substring(0,2),o=e.substring(2,5),e=e.substring(5,7),"JAN"==(o=o.toUpperCase())?n=0:"FEB"==o?n=1:"MAR"==o?n=2:"APR"==o?n=3:"MAY"==o?n=4:"JUN"==o?n=5:"JUL"==o?n=6:"AUG"==o?n=7:"SEP"==o?n=8:"OCT"==o?n=9:"NOV"==o?n=10:"DEC"==o&&(n=11),9==e?t=2009:10==e&&(t=2010));var n=new Date(t,n,a),a=new Date(2009,10,8);return n<a||!(a<=n)&&void 0}function common_nwMessage(e){return"Please select DL as the carrier. NW will not accept bookings for the selected date."}function common_openCPSMyProfile(){(common_myProfile=window.open("/lmsweb/secure/admin-userprefs.jsp","ManageMyProfile")).focus()}var popup_winTellusFromNewUser=null;function popupTellusWindow(){(popup_winTellusFromNewUser=window.open("/lmsweb/tell_us.jsp","TellusWindow","directories=no,hotkeys=no,menubar=no,location=no,resizable=yes,scrollbars=no,status=no,toolbar=no,height=380,width=720"))&&popup_winTellusFromNewUser.focus()}var popup_winTellusPage=null;function popupTellusPage(e){(popup_winTellusPage=window.open("/lmsweb/tell_us.jsp?txtStationCode="+e,"TellusWindow","directories=no,hotkeys=no,menubar=no,location=no,resizable=yes,scrollbars=no,status=no,toolbar=no,height=380,width=720"))&&popup_winTellusPage.focus()}function displayCalendar(o,e){$("#"+o).closest("form").attr("name");var n="#"+e;$(n).datepicker({dayNamesMin:["S","M","T","W","T","F","S"],numberOfMonths:2,minDate:new Date,maxDate:"+2m",buttonImage:"/lmsweb/images/calculator.jpg",buttonText:"View Calendar",buttonImageOnly:!0,showOn:"both",dateFormat:"ddMy",onSelect:function(e,t){n="#"+o,$(n+" option[value="+e.toUpperCase()+"]").attr("selected","selected"),$(n).val($(n).val()),$(n).addClass("capitalise")}})}function displayCalendarTextbox(o,e){$("#"+o).closest("form").attr("name");var n="#"+e;$(n).datepicker({dayNamesMin:["S","M","T","W","T","F","S"],numberOfMonths:2,minDate:"-1d",maxDate:"+90d",buttonImage:"/lmsweb/images/calculator.jpg",buttonText:"View Calendar",buttonImageOnly:!0,showOn:"both",dateFormat:"ddMy",onSelect:function(e,t){n="#"+o;e=$("<input />").attr("value",e);$(n).val(""),$(n).addClass("mandatorynormal"),$(n).val($(e).val()),$(n).addClass("capitalise")}})}function displayCalendarForCarrierDateRange(o,e,t,n){$("#"+o).closest("form").attr("name");var a="#"+e;$(a).datepicker("destroy"),$(a).datepicker({dayNamesMin:["S","M","T","W","T","F","S"],numberOfMonths:2,minDate:t,maxDate:n,buttonImage:"/lmsweb/images/calculator.jpg",buttonText:"View Calendar",buttonImageOnly:!0,showOn:"both",dateFormat:"ddMy",onSelect:function(e,t){a="#"+o,$(a+" option[value="+e.toUpperCase()+"]").attr("selected","selected"),$(a).val($(a).val()),$(a).addClass("capitalise")}})}function displayCalendarByMinMaxDays(o,e,t,n){$("#"+o).closest("form").attr("name");var a="#"+e;$(a).datepicker({dayNamesMin:["S","M","T","W","T","F","S"],numberOfMonths:2,minDate:t,maxDate:n,buttonImage:"/lmsweb/images/calculator.jpg",buttonText:"View Calendar",buttonImageOnly:!0,showOn:"both",dateFormat:"ddMy",onSelect:function(e,t){a="#"+o,$(a+" option[value="+e.toUpperCase()+"]").attr("selected","selected"),$(a).val($(a).val()),$(a).addClass("capitalise")}})}function displayCalendarByMinMaxDays_Schedules1(o,e,t,n){$("#"+o).closest("form").attr("name");var a="#"+e;$(a).datepicker({dayNamesMin:["S","M","T","W","T","F","S"],numberOfMonths:2,minDate:t,maxDate:n,buttonImage:"/lmsweb/images/calculator.jpg",buttonText:"View Calendar",buttonImageOnly:!0,showOn:"both",dateFormat:"ddMy",beforeShow:function(e,t){t.dpDiv.css({marginTop:"18px",marginLeft:"-145px"})},onSelect:function(e,t){a="#"+o,$(a+" option[value="+e.toUpperCase()+"]").attr("selected","selected"),$(a).val($(a).val()),$(a).addClass("capitalise")}})}function displayCalendarByMinMaxDays_Status1(o,e,t,n){$("#"+o).closest("form").attr("name");var a="#"+e;$(a).datepicker({dayNamesMin:["S","M","T","W","T","F","S"],numberOfMonths:2,minDate:t,maxDate:n,buttonImage:"/lmsweb/images/calculator.jpg",buttonText:"View Calendar",buttonImageOnly:!0,showOn:"both",dateFormat:"ddMy",beforeShow:function(e,t){t.dpDiv.css({marginTop:"18px",marginLeft:"-99px"})},onSelect:function(e,t){a="#"+o,$(a+" option[value="+e.toUpperCase()+"]").attr("selected","selected"),$(a).val($(a).val()),$(a).addClass("capitalise")}})}function displayCalendarByMinMaxDays_Schedules2(o,e,t,n){$("#"+o).closest("form").attr("name");var a="#"+e;$(a).datepicker({dayNamesMin:["S","M","T","W","T","F","S"],numberOfMonths:2,minDate:t,maxDate:n,buttonImage:"/lmsweb/images/calculator.jpg",buttonText:"View Calendar",buttonImageOnly:!0,showOn:"both",dateFormat:"ddMy",beforeShow:function(e,t){t.dpDiv.css({marginTop:"18px",marginLeft:"-145px"})},onSelect:function(e,t){a="#"+o,$(a+" option[value="+e.toUpperCase()+"]").attr("selected","selected"),$(a).val($(a).val()),$(a).addClass("capitalise")}})}function displayCalendarByMinMaxDays_Status2(o,e,t,n){$("#"+o).closest("form").attr("name");var a="#"+e;$(a).datepicker({dayNamesMin:["S","M","T","W","T","F","S"],numberOfMonths:2,minDate:t,maxDate:n,buttonImage:"/lmsweb/images/calculator.jpg",buttonText:"View Calendar",buttonImageOnly:!0,showOn:"both",dateFormat:"ddMy",beforeShow:function(e,t){t.dpDiv.css({marginTop:"18px",marginLeft:"-99px"})},onSelect:function(e,t){a="#"+o,$(a+" option[value="+e.toUpperCase()+"]").attr("selected","selected"),$(a).val($(a).val()),$(a).addClass("capitalise")}})}function split(e){return e.split(/,\s*/)}function autocomp(s,e){var n="#"+e,a=$(n).closest("form").attr("name"),l="Click to suggest that CPS add this as an airport (not city) code.";$(n).autocomplete({selectFirst:!0,autoFocus:!0,source:function(e,t){var o=$.ui.autocomplete.escapeRegex(e.term),n=new RegExp("^"+o,"i"),a=new RegExp(" "+o.toUpperCase().split("").reverse().join("")+" ,.*","i"),r=new RegExp(" "+o,"i"),i=$.grep(s,function(e,t){return a.test(e.split("").reverse().join(""))}),e=$.grep(s,function(e,t){return n.test(e)}),o=$.grep(s,function(e,t){return r.test(e)});-1!=$.inArray(i.toString(),e)&&e.splice($.inArray(i.toString(),e),1),-1==$.inArray(i.toString(),e)&&(e=i.concat(e));o=o.filter(function(e){return-1==i.indexOf(e)}),o=e.concat(o);t(o=!o.length?[l]:o)},focus:function(e,t){return t.item.label===l&&e.preventDefault(),!1},select:function(e,t){t.item.label===l&&popupTellusPage($(n).val());var o=split(this.value);o.pop();t=t.item.value.match(/[A-Z]{3}/);return o.push(t),this.value=o.join(" "),"frmNewBranch"!=a&&"frmBranchAdmin"!=a||populateCountry(this),!1}}).data("ui-autocomplete")._renderItem=function(e,t){var o=this.term,n=t.label;regexp=new RegExp("("+o+")","ig");n=n.replace(regexp,"<span style='font-weight:Bold;color:Black;'>$&</span>");return $("<li></li>").data("item.autocomplete",t).append("<a>"+n+"</a>").appendTo(e)}}function autocomp_signon(s,e){var e="#"+e,n=$(e).closest("form").attr("name"),l="No result found";$(e).autocomplete({selectFirst:!0,autoFocus:!0,source:function(e,t){var o=$.ui.autocomplete.escapeRegex(e.term),n=new RegExp("^"+o,"i"),a=new RegExp(" "+o.toUpperCase().split("").reverse().join("")+" ,.*","i"),r=new RegExp(" "+o,"i"),i=$.grep(s,function(e,t){return a.test(e.split("").reverse().join(""))}),e=$.grep(s,function(e,t){return n.test(e)}),o=$.grep(s,function(e,t){return r.test(e)});-1!=$.inArray(i.toString(),e)&&e.splice($.inArray(i.toString(),e),1),-1==$.inArray(i.toString(),e)&&(e=i.concat(e));o=o.filter(function(e){return-1==i.indexOf(e)}),o=e.concat(o);t(o=!o.length?[l]:o)},focus:function(e,t){return t.item.label===l&&e.preventDefault(),!1},select:function(e,t){if(t.item.label===l)return!1;var o=split(this.value);o.pop();t=t.item.value.match(/[A-Z]{3}/);return o.push(t),this.value=o.join(" "),"frmNewBranch"!=n&&"frmBranchAdmin"!=n||populateCountry(this),!1}}).data("ui-autocomplete")._renderItem=function(e,t){var o=this.term,n=t.label;regexp=new RegExp("("+o+")","ig");n=n.replace(regexp,"<span style='font-weight:Bold;color:Black;'>$&</span>");return $("<li></li>").data("item.autocomplete",t).append("<a>"+n+"</a>").appendTo(e)}}function autocomp_AddressBookFromName(array,textid){var id="#"+textid,lineNo=id.substr(id.length-1,id.length),formName=$(id).closest("form").attr("name"),NoResultsLabel="No result found",results;$(id).autocomplete({selectFirst:!0,autoFocus:!0,source:function(e,t){var o=$.ui.autocomplete.escapeRegex(e.term),n=new RegExp("^"+o,"i"),a=new RegExp(" "+o.toUpperCase().split("").reverse().join("")+" ,.*","i"),r=new RegExp(" "+o,"i"),i=$.grep(array,function(e,t){return a.test(e.split("").reverse().join(""))});array.splice($.inArray(i.toString(),array),1);e=$.grep(array,function(e,t){return n.test(e)}),o=$.grep(array,function(e,t){return r.test(e)});array.push(i.toString()),e=i.concat(e),t(results=!(results=-1!=o.toString().indexOf(e.toString())?o:-1!=e.toString().indexOf(o.toString())?e:e.concat(o)).length?[NoResultsLabel]:results)},focus:function(e,t){return t.item.label===NoResultsLabel&&e.preventDefault(),!1},select:function(event,ui){if(ui.item.label===NoResultsLabel)return!1;var terms=split(this.value);terms.pop();var name=ui.item.value,str=name.split("; "),i;for(i in str)var variable=str[i];var partname=str[0],account=str[1],station=str[2],address=str[3],city=str[4],country=str[5],state=str[6],zip=str[7],phone=str[8],fax=str[9],email;return"frmBooking"==formName&&(email=str[10]),terms.push(partname),this.value=terms.join(" "),1<lineNo&&(eval(formName+".txtAccountP"+lineNo).value=account),eval(formName+".txtStationP"+lineNo).value=station,eval(formName+".txtAddressP"+lineNo).value=address,eval(formName+".txtCityP"+lineNo).value=city,eval(formName+".txtCountryP"+lineNo).value=country,eval(formName+".txtStateP"+lineNo).value=state,eval(formName+".txtZipP"+lineNo).value=zip,eval(formName+".txtPhoneP"+lineNo).value=phone,eval(formName+".txtFaxP"+lineNo).value=fax,"frmBooking"==formName&&(eval(formName+".txtEmailP"+lineNo).value=email),!1}}).data("ui-autocomplete")._renderItem=function(e,t){var o=this.term,n=t.label;regexp=new RegExp("("+o+")","ig");n=n.replace(regexp,"<span style='font-weight:Bold;color:Black;'>$&</span>");return $("<li></li>").data("item.autocomplete",t).append("<a>"+n+"</a>").appendTo(e)}}function autocomp_AddressBookFromAcnt(array,textid){var id="#"+textid,lineNo=id.substr(id.length-1,id.length),formName=$(id).closest("form").attr("name"),NoResultsLabel="No result found";$(id).autocomplete({selectFirst:!0,autoFocus:!0,source:function(e,t){var o=$.ui.autocomplete.escapeRegex(e.term),n=new RegExp("^"+o,"i"),a=new RegExp(" "+o.toUpperCase().split("").reverse().join("")+" ,.*","i"),r=new RegExp(" "+o,"i"),i=$.grep(array,function(e,t){return a.test(e.split("").reverse().join(""))});array.splice($.inArray(i.toString(),array),1);e=$.grep(array,function(e,t){return n.test(e)}),o=$.grep(array,function(e,t){return r.test(e)});array.push(i.toString()),e=i.concat(e),results=-1!=o.toString().indexOf(e.toString())?o:-1!=e.toString().indexOf(o.toString())?e:e.concat(o),results.length||(results=[NoResultsLabel]),t(results)},focus:function(e,t){return t.item.label===NoResultsLabel&&e.preventDefault(),!1},select:function(event,ui){if(ui.item.label===NoResultsLabel)return!1;var terms=split(this.value);terms.pop();var name=ui.item.value,str=name.split("; "),i;for(i in str)var variable=str[i];var account=str[0],partname=str[1],station=str[2],address=str[3],city=str[4],country=str[5],state=str[6],zip=str[7],phone=str[8],fax=str[9],email;return"frmBooking"==formName&&(email=str[10]),terms.push(account),this.value=terms.join(" "),eval(formName+".txtNameP"+lineNo).value=partname,eval(formName+".txtStationP"+lineNo).value=station,eval(formName+".txtAddressP"+lineNo).value=address,eval(formName+".txtCityP"+lineNo).value=city,eval(formName+".txtCountryP"+lineNo).value=country,eval(formName+".txtStateP"+lineNo).value=state,eval(formName+".txtZipP"+lineNo).value=zip,eval(formName+".txtPhoneP"+lineNo).value=phone,eval(formName+".txtFaxP"+lineNo).value=fax,"frmBooking"==formName&&(eval(formName+".txtEmailP"+lineNo).value=email),!1}}).data("ui-autocomplete")._renderItem=function(e,t){var o=this.term,n=t.label;return regexp=new RegExp("("+o+")","ig"),n=n.replace(regexp,"<span style='font-weight:Bold;color:Black;'>$&</span>"),$("<li></li>").data("item.autocomplete",t).append("<a>"+n+"</a>").appendTo(e)}}function autocomp_AddressBookFromNameFWB(array,textid){var id="#"+textid,lineNo=id.substr(id.length-1,id.length),formName=$(id).closest("form").attr("name"),NoResultsLabel="No result found",results;$(id).autocomplete({selectFirst:!0,autoFocus:!0,source:function(e,t){var o=$.ui.autocomplete.escapeRegex(e.term),n=new RegExp("^"+o,"i"),a=new RegExp(" "+o.toUpperCase().split("").reverse().join("")+" ,.*","i"),r=new RegExp(" "+o,"i"),i=$.grep(array,function(e,t){return a.test(e.split("").reverse().join(""))});array.splice($.inArray(i.toString(),array),1);e=$.grep(array,function(e,t){return n.test(e)}),o=$.grep(array,function(e,t){return r.test(e)});array.push(i.toString()),e=i.concat(e),t(results=!(results=-1!=o.toString().indexOf(e.toString())?o:-1!=e.toString().indexOf(o.toString())?e:e.concat(o)).length?[NoResultsLabel]:results)},focus:function(e,t){return t.item.label===NoResultsLabel&&e.preventDefault(),!1},select:function(event,ui){if(ui.item.label===NoResultsLabel)return!1;var terms=split(this.value);terms.pop();var name=ui.item.value,str=name.split("; "),i;for(i in str)var variable=str[i];var partname=str[0],account=str[1],station=str[2],address=str[3],city=str[4],country=str[5],state=str[6],zip=str[7],phone=str[8],fax=str[9],email;return"frmBooking"==formName&&(email=str[10]),terms.push(partname),this.value=terms.join(" "),2!=lineNo&&3!=lineNo||(eval(formName+".txtAccountP"+lineNo).value=account),eval(formName+".txtStationP"+lineNo).value=station,eval(formName+".txtCityP"+lineNo).value=city,1<lineNo&&(eval(formName+".txtAddressP"+lineNo).value=address,eval(formName+".txtCountryP"+lineNo).value=country,eval(formName+".txtStateP"+lineNo).value=state,eval(formName+".txtZipP"+lineNo).value=zip,eval(formName+".txtPhoneP"+lineNo).value=phone,eval(formName+".txtFaxP"+lineNo).value=fax),"frmBooking"==formName&&(eval(formName+".txtEmailP"+lineNo).value=email),!1}}).data("ui-autocomplete")._renderItem=function(e,t){var o=this.term,n=t.label;regexp=new RegExp("("+o+")","ig");n=n.replace(regexp,"<span style='font-weight:Bold;color:Black;'>$&</span>");return $("<li></li>").data("item.autocomplete",t).append("<a>"+n+"</a>").appendTo(e)}}function autocomp_AddressBookFromNameCustoms(array,textid,textid2){var id="#"+textid,lineNo=id.substr(id.length-1,id.length),formName=$(id).closest("form").attr("name"),NoResultsLabel="No result found",results;$(id).autocomplete({selectFirst:!0,autoFocus:!0,source:function(e,t){var o=$.ui.autocomplete.escapeRegex(e.term),n=new RegExp("^"+o,"i"),a=new RegExp(" "+o.toUpperCase().split("").reverse().join("")+" ,.*","i"),r=new RegExp(" "+o,"i"),i=$.grep(array,function(e,t){return a.test(e.split("").reverse().join(""))});array.splice($.inArray(i.toString(),array),1);e=$.grep(array,function(e,t){return n.test(e)}),o=$.grep(array,function(e,t){return r.test(e)});array.push(i.toString()),e=i.concat(e),t(results=!(results=-1!=o.toString().indexOf(e.toString())?o:-1!=e.toString().indexOf(o.toString())?e:e.concat(o)).length?[NoResultsLabel]:results)},focus:function(e,t){return t.item.label===NoResultsLabel&&e.preventDefault(),!1},select:function(event,ui){if(ui.item.label===NoResultsLabel)return!1;var terms=split(this.value);terms.pop();var name=ui.item.value,str=name.split("; "),i;for(i in str)var variable=str[i];var partname=str[0],account=str[1],station=str[2],address=str[3],city=str[4],country=str[5],state=str[6],zip=str[7],phone=str[8],fax=str[9],email,zipClass;return"frmBooking"==formName&&(email=str[10]),"frmHawbTemplate"!=formName&&"frmCustomsDetails"!=formName||"C"!=textid2||(zipClass=str[10],document.getElementById("txtZipC").className=null!=zipClass&&"M"==zipClass?"mandatory":"optional"),terms.push(partname),this.value=terms.join(" "),eval(formName+".txtCity"+textid2).value=city,eval(formName+".txtAddress"+textid2).value=address,eval(formName+".txtCountry"+textid2).value=country,eval(formName+".txtState"+textid2).value=state,eval(formName+".txtZip"+textid2).value=zip,eval(formName+".txtPhone"+textid2).value=phone,eval(formName+".txtFax"+textid2).value=fax,"frmHawbTemplate"!=formName&&"frmCustomsDetails"!=formName||("frmCustomsDetails"==formName?populateCustomDetailsStateList(textid2,country,state):"frmHawbTemplate"==formName&&populateHAWBTemplateDetailsStateList(textid2,country,state)),!1}}).data("ui-autocomplete")._renderItem=function(e,t){var o=this.term,n=t.label;regexp=new RegExp("("+o+")","ig");n=n.replace(regexp,"<span style='font-weight:Bold;color:Black;'>$&</span>");return $("<li></li>").data("item.autocomplete",t).append("<a>"+n+"</a>").appendTo(e)}}function toUnicode(e,t){t.length==e.maxLength&&(next=e.tabIndex,next<document.forms[0].elements.length&&document.forms[0].elements[next].focus())}function validateAWB_equote(e){if(8<=e.length&&e.substring(0,7)%7!=e.charAt(7))return alert("Dear Customer, the AWB number provided by you is not a valid AWB number, please try again or contact your Local Customer Service Representative. "),!1}function autocomp_UABooking(r,e){var n="#"+e,a=$(n).closest("form").attr("name"),i="Click to suggest that CPS add this as an airport (not city) code.";$(n).autocomplete({selectFirst:!0,autoFocus:!0,source:function(e,t){var o=$.ui.autocomplete.escapeRegex(e.term),n=new RegExp(o,"i"),a=new RegExp("^"+o,"i"),e=(new RegExp(" "+o,"i"),$.grep(r,function(e,t){e=e.slice(e.indexOf("(")+1,e.lastIndexOf(")"));if(""!=e&&3==e.length)return n.test(e)}));1<e.length&&r.splice($.inArray(e.toString(),r),1);o=$.grep(r,function(e,t){return a.test(e)});r.push(e.toString()),e=e.concat(o);o=e=jQuery.unique(e);t(o=!e.length?[i]:o)},focus:function(e,t){return t.item.label===i&&e.preventDefault(),!1},select:function(e,t){t.item.label===i&&popupTellusPage($(n).val());var o=split(this.value);o.pop();t=t.item.value.match(/[A-Z]{3}/);return o.push(t),this.value=o.join(" "),"frmNewBranch"!=a&&"frmBranchAdmin"!=a||populateCountry(this),!1}}).data("ui-autocomplete")._renderItem=function(e,t){var o=this.term,n=t.label;regexp=new RegExp("("+o+")","ig");n=n.replace(regexp,"<span style='font-weight:Bold;color:Black;'>$&</span>");return $("<li></li>").data("item.autocomplete",t).append("<a>"+n+"</a>").appendTo(e)}}function autocomp_signon_newbranch(r,e){var e="#"+e,n=$(e).closest("form").attr("name"),i="No result found";$(e).autocomplete({selectFirst:!0,autoFocus:!0,source:function(e,t){var o=$.ui.autocomplete.escapeRegex(e.term),n=new RegExp(o,"i"),a=new RegExp("^"+o,"i"),e=(new RegExp(" "+o,"i"),$.grep(r,function(e,t){e=e.slice(e.indexOf("(")+1,e.lastIndexOf(")"));if(""!=e&&3==e.length)return n.test(e)}));1<e.length&&r.splice($.inArray(e.toString(),r),1);o=$.grep(r,function(e,t){return a.test(e)});r.push(e.toString()),e=e.concat(o);o=e=jQuery.unique(e);t(o=!e.length?[i]:o)},focus:function(e,t){return t.item.label===i&&e.preventDefault(),!1},select:function(e,t){if(t.item.label===i)return!1;var o=split(this.value);o.pop();t=t.item.value.match(/[A-Z]{3}/);return o.push(t),this.value=o.join(" "),"frmNewBranch"!=n&&"frmBranchAdmin"!=n||populateCountry(this),!1}}).data("ui-autocomplete")._renderItem=function(e,t){var o=this.term,n=t.label;regexp=new RegExp("("+o+")","ig");n=n.replace(regexp,"<span style='font-weight:Bold;color:Black;'>$&</span>");return $("<li></li>").data("item.autocomplete",t).append("<a>"+n+"</a>").appendTo(e)}}function autocomp_UABooking_MultipleTemplate(i,e){var n="#"+e,a=$(n).closest("form").attr("name"),s="Click to suggest that cps add this as an airport (not city) code.";$(n).autocomplete({selectFirst:!0,autoFocus:!0,source:function(e,t){var o,n,a,r="";void 0!==i&&0<i.length&&(a=$.ui.autocomplete.escapeRegex(e.term),o=new RegExp(a,"i"),n=new RegExp("^"+a,"i"),new RegExp(" "+a,"i"),1<(e=$.grep(i,function(e,t){e=e.slice(e.indexOf("(")+1,e.lastIndexOf(")"));if(""!=e&&3==e.length)return o.test(e)})).length&&i.splice($.inArray(e.toString(),i),1),a=$.grep(i,function(e,t){return n.test(e)}),i.push(e.toString()),e=e.concat(a),e=jQuery.unique(e),r.length||(r=[s])),t(r)},focus:function(e,t){return t.item.label===s&&e.preventDefault(),!1},select:function(e,t){t.item.label===s&&popupTellusPage($(n).val());var o=split(this.value);o.pop();t=t.item.value.match(/[A-Z]{3}/);return o.push(t),this.value=o.join(" "),"frmNewBranch"!=a&&"frmBranchAdmin"!=a||populateCountry(this),!1}}).data("ui-autocomplete")._renderItem=function(e,t){var o=this.term,n=t.label;regexp=new RegExp("("+o+")","ig");n=n.replace(regexp,"<span style='font-weight:Bold;color:Black;'>$&</span>");return $("<li></li>").data("item.autocomplete",t).append("<a>"+n+"</a>").appendTo(e)}}function common_displayErrors(e){for(var t="";-1!=e.indexOf("|");)t+=e.substring(0,e.indexOf("|"))+"\n",e=e.substring(e.indexOf("|")+1,e.length);0==(t+=e).length&&(t+="Unknown Error Encountered!"),alert(t)}function getXYValuesForOffers(){var e=document.getElementById("promotionoffersyellow");if(null!=e)for(e.offsetLeft,e.offsetTop;e.offsetParent&&(e.offsetParent.offsetLeft,e.offsetParent.offsetTop,e!=document.getElementsByTagName("body")[0]);)e=e.offsetParent}function closeWindow(){1==confirm("Do you want to close window ?")&&self.close()}function onlyDigits(e){e=e.which||e.keyCode;return!(31<e&&(e<48||57<e))}var allowedChars=[8,9,11,37,39,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,110,190],isDotExisted=!1,isCtrlKeyPressed=!1;function onlyDecimals(e,t){t.which||t.keyCode;return!(!t.shiftKey||9!=t.keyCode)||!t.shiftKey&&(t.ctrlKey?isCtrlKeyPressed=!0:search(e,t.which||t.keyCode))}function search(e,t){var o,n=!1;for(index=0;index<allowedChars.length;index++)if(t==allowedChars[index]){if(190===t||110===t){if(isDotExisted=-1!=e.value.indexOf(".")){n=!1;break}n=isDotExisted=!0;break}if(8===t){isCtrlKeyPressed?(e.value="",isDotExisted=isCtrlKeyPressed=!1):(o=e.value,isDotExisted=-1!=o.substring(0,o.length-1).indexOf("."),0==o.length?isDotExisted=!1:e.value=o.substring(0,o.length),n=!0);break}if(9!==t&&46!==t){n=!0;break}isCtrlKeyPressed&&(e.value=""),n=!(isDotExisted=!1)}return n}function onlyTwoDecimalsAfterDot(e,t){t.which||t.keyCode;return!(!t.shiftKey||9!=t.keyCode)||!t.shiftKey&&(t.ctrlKey?isCtrlKeyPressed=!0:searchTwoDecimalsAfterDot(e,t.which||t.keyCode))}function searchTwoDecimalsAfterDot(e,t){var o,n=!1;for(index=0;index<allowedChars.length;index++)if(t==allowedChars[index]){if(190===t||110===t){if(isDotExisted=-1!=e.value.indexOf(".")){n=!1;break}n=isDotExisted=!0;break}if(8===t){isCtrlKeyPressed?(e.value="",isDotExisted=isCtrlKeyPressed=!1):(o=e.value,isDotExisted=-1!=o.substring(0,o.length-1).indexOf("."),0==o.length?isDotExisted=!1:e.value=o.substring(0,o.length),n=!0);break}if(9!==t&&46!==t){n=!e||null==e.value||-1==e.value.indexOf(".")||(null==(o=e.value.substring(e.value.indexOf(".")+1,e.value.length))||!(2<=o.length));break}isCtrlKeyPressed&&(e.value=""),n=!(isDotExisted=!1)}return n}function clearAll(){isDotExisted=isCtrlKeyPressed=!1}function onlyAlphaNumerics(e){e=e.which||e.keyCode;return!(31<e&&(e<48||57<e)&&(e<65||90<e)&&(e<97||122<e))}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var months=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];function checkDateFormat(e){var t=!0,o=e.substring(0,2),n=e.substring(2,5).toUpperCase(),e=e.substring(5,7),a=isInteger(o),t=-1!=months.indexOf(n),r=isInteger(e);return a&&t&&r}function isInteger(e){for(var t=0;t<e.length;t++){var o=e.charAt(t);if(o<"0"||"9"<o)return!1}return!(parseInt(e)<1)}function isTFormatChars(e){e=e.which||e.keyCode;return!!String.fromCharCode(e).match(/^[0-9A-Za-z-. ]+$/)}function onlyAlphaNumericsFullStop(e){e=e.which||e.keyCode;return!!String.fromCharCode(e).match(/^[0-9A-Za-z-.]+$/)}function onlyNVDNumericsDot(e,t){var o=e.which||e.keyCode;return(!t||46!==e.keyCode||2!==t.value.split(".").length)&&!!String.fromCharCode(o).match(/^[0-9NVD.nvd]+$/)}function isParticipantFormatChars(e){e=e.which||e.keyCode;return!!String.fromCharCode(e).match(/^[0-9A-Za-z& ]+$/)}function isPhoneFaxFormatChars(e){e=e.which||e.keyCode;return!!String.fromCharCode(e).match(/^[0-9 +]+$/)}function isValidEmailChars(e){e=e.which||e.keyCode;return!!String.fromCharCode(e).match(/^[0-9A-Za-z-._@]+$/)}function validateSpecialCharacters(e){var t=e.value;if(0<t.length){var o=!0,n=!1;errMsg="";for(var a=0;a<t.length;a++){var r=t.charAt(a).charCodeAt(0);47<r&&r<58||64<r&&r<91||96<r&&r<123||45==r||46==r||32==r?46==r&&46==t.charAt(a+1).charCodeAt(0)&&(n=!0):o=!1}o||(errMsg+="The following field(s) are invalid --\n\n"+e.title+"- should only contain alphanumeric characters(A-Z and 0-9), special characters (- and .), and space.\n\n"),n&&(errMsg+=e.title+"- Two consecutive full stops (.) are not allowed. Please correct the value and proceed.\n\n")}return 0<errMsg.length?(alert(errMsg),errMsg="",e.value=removeSpecialSymbols(t),!1):!(errMsg="")}function removeSpecialSymbols(e){for(var t=e,o=0;o<e.length;o++){var n=e.charAt(o),a=n.charCodeAt(0);47<a&&a<58||64<a&&a<91||96<a&&a<123||45==a||46==a||32==a?46==a&&46==e.charAt(o+1).charCodeAt(0)&&(t=t.replace(e.charAt(o+1),"")):t=t.replace(n,"")}return t}function isAlphabet(e){e=e.which||e.keyCode;return!!String.fromCharCode(e).match(/^[A-Za-z]+$/)}function isNumeric(e){e=e.which||e.keyCode;return!!String.fromCharCode(e).match(/^[0-9]+$/)}function isParticipantSpclChar(e){e=e.which||e.keyCode,e=String.fromCharCode(e);return-1=="!@#$%^&*=[]\\';,/{}|\":<>?".indexOf(e)}function autocompletePartners(n,e){var e="#"+e,a=($(e).closest("form").attr("name"),"No Partner found");null!=n?($("#txtAcn").val(""),$("#txtAcn").autocomplete({disabled:!1}),1==n.length?$("#txtAcn").val(n[0].substring(0,3)):$(e).keypress(function(e){var t=new RegExp("^[a-zA-Z0-9]+$"),o=String.fromCharCode(e.charCode||e.which);return!!t.test(o)||(e.preventDefault(),!1)}).autocomplete({selectFirst:!0,autoFocus:!0,source:function(e,t){var e=$.ui.autocomplete.escapeRegex(e.term),o=new RegExp(""+e,"i"),e=$.grep(n,function(e,t){return o.test(e)});t(e=!e.length?[a]:e)},focus:function(e,t){return t.item.label===a&&e.preventDefault(),!1},select:function(e,t){var o=split(this.value);o.pop();t=t.item.value.match(/[0-9]{3}/);return o.push(t),this.value=o.join(" "),!1}}).data("ui-autocomplete")._renderItem=function(e,t){var o=this.term,n=t.label;return regexp=new RegExp("("+o+")","ig"),n=n.replace(regexp,"<span style='font-weight:Bold;color:Black;'>$&</span>"),$("<li></li>").data("item.autocomplete",t).append("<a>"+n+"</a>").appendTo(e)}):$("#txtAcn").autocomplete({disabled:!0})}String.prototype.endsWith||(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)});var selectedCustomDetailsParticipantType="S";function populateCustomDetailsStateList(strType,country,state){var strURL,strURL;selectedCustomDetailsParticipantType=strType,eval("document.frmCustomsDetails.txtCountry"+selectedCustomDetailsParticipantType)&&(eval("document.frmCustomsDetails.txtCountry"+selectedCustomDetailsParticipantType).disabled=!0),strURL="US"==country||"CA"==country||"AR"==country||"AU"==country||"BR"==country||"MX"==country?"/lmsweb/handler_mawb_country_state.jsp?qrySelPopulateStatesByCountry=Y&participantType="+selectedCustomDetailsParticipantType+"&qryStateValue="+state+"&qryCountryValue="+country:"/lmsweb/handler_mawb_country_state.jsp?qryTxtPopulateStatesByCountry=Y&participantType="+selectedCustomDetailsParticipantType+"&qryStateValue="+state+"&qryCountryValue="+country,Common_getServerInfoByAJAX(strURL,!0,populateCustomDetailsStatesByCountry,"",!0)}function populateCustomDetailsStatesByCountry(strText){document.getElementById("divStateSelection"+selectedCustomDetailsParticipantType).innerHTML="",document.getElementById("divStateSelection"+selectedCustomDetailsParticipantType).innerHTML=strText,eval("document.frmCustomsDetails.txtCountry"+selectedCustomDetailsParticipantType)&&(eval("document.frmCustomsDetails.txtCountry"+selectedCustomDetailsParticipantType).disabled=!1)}var selectedHAWBTemplateParticipantType="S";function populateHAWBTemplateDetailsStateList(strType,country,state){var strURL,strURL;selectedHAWBTemplateParticipantType=strType,eval("document.frmHawbTemplate.txtCountry"+selectedHAWBTemplateParticipantType)&&(eval("document.frmHawbTemplate.txtCountry"+selectedHAWBTemplateParticipantType).disabled=!0),strURL="US"==country||"CA"==country||"AR"==country||"AU"==country||"BR"==country||"MX"==country?"/lmsweb/handler_mawb_country_state.jsp?qrySelPopulateStatesByCountry=Y&participantType="+selectedHAWBTemplateParticipantType+"&qryStateValue="+state+"&qryCountryValue="+country:"/lmsweb/handler_mawb_country_state.jsp?qryTxtPopulateStatesByCountry=Y&participantType="+selectedHAWBTemplateParticipantType+"&qryStateValue="+state+"&qryCountryValue="+country,Common_getServerInfoByAJAX(strURL,!0,populateHAWBTemplateDetailsStatesByCountry,"",!0)}function populateHAWBTemplateDetailsStatesByCountry(strText){document.getElementById("divStateSelection"+selectedHAWBTemplateParticipantType).innerHTML="",document.getElementById("divStateSelection"+selectedHAWBTemplateParticipantType).innerHTML=strText,eval("document.frmHawbTemplate.txtCountry"+selectedHAWBTemplateParticipantType)&&(eval("document.frmHawbTemplate.txtCountry"+selectedHAWBTemplateParticipantType).disabled=!1)}function autocompcommodity(s,e){var n="#"+e,a=$(n).closest("form").attr("name"),l="No commodity code found.";$(n).autocomplete({selectFirst:!0,autoFocus:!0,source:function(e,t){var o=$.ui.autocomplete.escapeRegex(e.term),n=new RegExp("^"+o,"i"),a=new RegExp(" "+o.toUpperCase().split("").reverse().join("")+" ,.*","i"),r=new RegExp(" "+o,"i"),i=$.grep(s,function(e,t){return a.test(e.split("").reverse().join(""))}),e=$.grep(s,function(e,t){return n.test(e)}),o=$.grep(s,function(e,t){return r.test(e)});-1!=$.inArray(i.toString(),e)&&e.splice($.inArray(i.toString(),e),1),-1==$.inArray(i.toString(),e)&&(e=i.concat(e));o=o.filter(function(e){return-1==i.indexOf(e)}),o=e.concat(o);t(o=!o.length?[l]:o)},focus:function(e,t){return t.item.label===l&&e.preventDefault(),!1},select:function(e,t){t.item.label===l&&popupTellusPage($(n).val());var o=split(this.value);o.pop();t=t.item.value.match(/[0-9]{4}/);return o.push(t),this.value=o.join(" "),"frmNewBranch"!=a&&"frmBranchAdmin"!=a||populateCountry(this),!1}}).data("ui-autocomplete")._renderItem=function(e,t){var o=this.term,n=t.label;regexp=new RegExp("("+o+")","ig");n=n.replace(regexp,"<span style='font-weight:Bold;color:Black;'>$&</span>");return $("<li></li>").data("item.autocomplete",t).append("<a>"+n+"</a>").appendTo(e)}}
var disappeardelay=250,enableanchorlink=0,hidemenu_onclick=1,ie5=document.all,ns6=document.getElementById&&!document.all;function getposOffset(e,t){for(var o="left"==t?e.offsetLeft:e.offsetTop,n=e.offsetParent;null!=n;)o="left"==t?o+n.offsetLeft:o+n.offsetTop,n=n.offsetParent;return o}function showhide(e,t,o,n){(ie5||ns6)&&(dropmenuobj.style.left=dropmenuobj.style.top=-500),dropmenuobj.x=getposOffset(dropmenupar,"left")+5,dropmenuobj.y=getposOffset(dropmenupar,"top")+5,dropmenuobj.style.left=dropmenuobj.x-clearbrowseredge(dropmenupar,"rightedge")+"px",dropmenuobj.style.top=dropmenuobj.y-clearbrowseredge(dropmenupar,"bottomedge")+dropmenupar.offsetHeight+"px";var d=document.getElementById("menuShim").style;"click"==t.type&&e.style.visibility==n||"mouseover"==t.type?(e.style.visibility=o,e.style.display="block",e.style.zIndex=10001,dropmenupar.style.color="#96F0C8",d.width=e.offsetWidth+"px",d.height=e.offsetHeight+"px",d.left=dropmenuobj.style.left,d.top=dropmenuobj.style.top,d.zIndex=1e4,d.display="block"):"click"==t.type&&(dropmenupar.style.color="#FFFFFF",e.style.visibility=n,e.style.display="none",d.display="none")}function iecompattest(){return document.compatMode&&"BackCompat"!=document.compatMode?document.documentElement:document.body}function clearbrowseredge(e,t){var o,n=0;return"rightedge"==t?(o=ie5&&!window.opera?iecompattest().scrollLeft+iecompattest().clientWidth-15:window.pageXOffset+window.innerWidth-15,dropmenuobj.contentmeasure=dropmenuobj.offsetWidth,o-dropmenuobj.x<dropmenuobj.contentmeasure&&(n=dropmenuobj.contentmeasure-e.offsetWidth)):(t=ie5&&!window.opera?iecompattest().scrollTop:window.pageYOffset,o=ie5&&!window.opera?iecompattest().scrollTop+iecompattest().clientHeight-15:window.pageYOffset+window.innerHeight-18,dropmenuobj.contentmeasure=dropmenuobj.offsetHeight,o-dropmenuobj.y<dropmenuobj.contentmeasure&&(n=dropmenuobj.contentmeasure+e.offsetHeight,dropmenuobj.y-t<dropmenuobj.contentmeasure&&(n=dropmenuobj.y+e.offsetHeight-t))),n}function dropdownmenu(e,t,o){return window.event?event.cancelBubble=!0:t.stopPropagation&&t.stopPropagation(),"undefined"!=typeof dropmenuobj&&(dropmenuobj.style.visibility="hidden"),"undefined"!=typeof dropmenupar&&(dropmenupar.style.color="#FFFFFF"),clearhidemenu(),(ie5||ns6)&&(e.onmouseout=delayhidemenu,dropmenupar=e,dropmenuobj=document.getElementById(o),hidemenu_onclick&&(dropmenuobj.onclick=function(){dropmenuobj.style.visibility="hidden"}),dropmenuobj.onmouseover=clearhidemenu,dropmenuobj.onmouseout=ie5?function(){dynamichide(event)}:function(e){dynamichide(e)},showhide(dropmenuobj,t,"visible","hidden"),dropmenuobj.x=getposOffset(dropmenupar,"left")+5,dropmenuobj.y=getposOffset(dropmenupar,"top")+5,dropmenuobj.style.left=dropmenuobj.x-clearbrowseredge(dropmenupar,"rightedge")+"px",dropmenuobj.style.top=dropmenuobj.y-clearbrowseredge(dropmenupar,"bottomedge")+dropmenupar.offsetHeight+"px"),clickreturnvalue()}function clickreturnvalue(){return!((ie5||ns6)&&!enableanchorlink)}function contains_ns6(e,t){for(;t.parentNode;)if((t=t.parentNode)==e)return!0;return!1}function dynamichide(e){(ie5&&!dropmenuobj.contains(e.toElement)||ns6&&e.currentTarget!=e.relatedTarget&&!contains_ns6(e.currentTarget,e.relatedTarget))&&delayhidemenu()}function delayhidemenu(){delayhide=setTimeout("dropmenuobj.style.visibility='hidden';dropmenupar.style.color='#FFFFFF';document.getElementById('menuShim').style.display='none'",disappeardelay)}function clearhidemenu(){"undefined"!=typeof delayhide&&clearTimeout(delayhide)}function MM_findObj(e,t){var o,n,d;for(t=t||document,0<(o=e.indexOf("?"))&&parent.frames.length&&(t=parent.frames[e.substring(o+1)].document,e=e.substring(0,o)),!(d=t[e])&&t.all&&(d=t.all[e]),n=0;!d&&n<t.forms.length;n++)d=t.forms[n][e];for(n=0;!d&&t.layers&&n<t.layers.length;n++)d=MM_findObj(e,t.layers[n].document);return d=!d&&t.getElementById?t.getElementById(e):d}function MM_showHideLayers(){for(var e,t,o=MM_showHideLayers.arguments,n=0;n<o.length-2;n+=3)null!=(t=MM_findObj(o[n]))&&(e=o[n+2],t.style&&(t=t.style,e="show"==e?"visible":"hide"==e?"hidden":e),t.visibility=e,"submenu"==o[n].substring(0,7)&&("hidden"!=t.visibility?document.getElementById(o[n].substring(7)).style.backgroundColor="#FF9900":document.getElementById(o[n].substring(7)).style.backgroundColor=""))}function getXYValuesForOffers(){var e=document.getElementById("promotionoffersyellow");if(null!=e){for(var t=e.offsetLeft,o=e.offsetTop;e.offsetParent&&(t+=e.offsetParent.offsetLeft,o+=e.offsetParent.offsetTop,e!=document.getElementsByTagName("body")[0]);)e=e.offsetParent;setHiddenOfferFields("YES",t,o)}}function setHiddenOfferFields(e,t,o){null!=document.getElementById("offerimagesignon1")&&(document.getElementById("offerimagesignon1").style.position="absolute",document.getElementById("offerimagesignon1").style.top="52px",document.getElementById("offerimagesignon1").style.left=t+30+"px",document.getElementById("offerimagesignon1").style.display="block",document.getElementById("offerimagesignon1").style.zIndex="99999"),null!=document.getElementById("offerimagesignon2")&&(document.getElementById("offerimagesignon2").style.position="absolute",document.getElementById("offerimagesignon2").style.top="35px",document.getElementById("offerimagesignon2").style.left=t-40+"px",document.getElementById("offerimagesignon2").style.display="block"),null!=document.getElementById("offerimagesignon3")&&(document.getElementById("offerimagesignon3").style.position="absolute",document.getElementById("offerimagesignon3").style.top="52px",document.getElementById("offerimagesignon3").style.left=t+15+"px",document.getElementById("offerimagesignon3").style.display="block"),null!=document.getElementById("offerimage1")&&(document.getElementById("offerimage1").style.position="absolute",document.getElementById("offerimage1").style.top="50px",document.getElementById("offerimage1").style.left=t-40+"px",document.getElementById("offerimage1").style.display="block"),null!=document.getElementById("offerimage2")&&(document.getElementById("offerimage2").style.position="absolute",document.getElementById("offerimage2").style.top="67px",document.getElementById("offerimage2").style.left=t-185+"px",document.getElementById("offerimage2").style.display="block"),null!=document.getElementById("offerimage3")&&(document.getElementById("offerimage3").style.position="absolute",document.getElementById("offerimage3").style.top="67px",document.getElementById("offerimage3").style.left=t-180+"px",document.getElementById("offerimage3").style.display="block"),null!=document.getElementById("offerimage4")&&(document.getElementById("offerimage4").style.position="absolute",document.getElementById("offerimage4").style.top="68px",document.getElementById("offerimage4").style.left=t-185+"px",document.getElementById("offerimage4").style.display="block"),null!=document.getElementById("offerimage5")&&(document.getElementById("offerimage5").style.position="absolute",document.getElementById("offerimage5").style.top="45px",document.getElementById("offerimage5").style.left=t-52+"px",document.getElementById("offerimage5").style.display="block"),null!=document.getElementById("offerimage6")&&(document.getElementById("offerimage6").style.position="absolute",document.getElementById("offerimage6").style.top="25px",document.getElementById("offerimage6").style.left=t-23+"px",document.getElementById("offerimage6").style.display="block")}
var arrowimages={down:["downarrowclass","down.gif",23],right:["rightarrowclass","right.gif"]},jqueryslidemenu={animateduration:{over:150,out:130},buildmenu:function(s,i){jQuery(document).ready(function(t){var i=t("#"+s+">ul");i.find("ul").parent().each(function(i){var s=t(this),e=t(this).find("ul:eq(0)");this._dimensions={w:this.offsetWidth,h:this.offsetHeight,subulw:e.outerWidth(),subulh:e.outerHeight()},this.istopheader=1==s.parents("ul").length,e.css({top:this.istopheader?this._dimensions.h+"px":0}),s.children("a:eq(0)").css((this.istopheader,{})),s.hover(function(i){var s=t(this).children("ul:eq(0)");this._offsets={left:t(this).offset().left,top:t(this).offset().top};var e=this.istopheader?0:this._dimensions.w,e=this._offsets.left+e+this._dimensions.subulw>t(window).width()?this.istopheader?-this._dimensions.subulw+this._dimensions.w:-this._dimensions.w:e;s.queue().length<=1&&s.css({left:e+"px",width:this._dimensions.subulw+"px"}).slideDown(jqueryslidemenu.animateduration.over)},function(i){t(this).children("ul:eq(0)").slideUp(jqueryslidemenu.animateduration.out)}),s.click(function(){t(this).children("ul:eq(0)").hide()})}),i.find("ul").css({display:"none",visibility:"visible"})})}};jqueryslidemenu.buildmenu("myslidemenu",arrowimages);
var theDateFieldName,theFormName,combined,today=new Date,day=null,month=null,year=null,maxPastDays=0,maxFutureDays=0,monthArray=new Array("JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"),isCombined=!0;function restart(){for(var e=0;e<document.forms[theFormName][theDateFieldName].length;e++)if(document.forms[theFormName][theDateFieldName].options[e].value==combined){document.forms[theFormName][theDateFieldName].selectedIndex=e;break}mywindow.close()}function restartfortext(){document.forms[theFormName][theDateFieldName].className="mandatorynormal",document.forms[theFormName][theDateFieldName].value=combined,document.forms[theFormName][theDateFieldName].focus(),mywindow.close()}function displayCalendarFromCombined(e,a,t,o,m,n){if(theFormName=e,theDateFieldName=a,0<=m&&(maxPastDays=m),0<=n&&(maxFutureDays=n),t){t=document.forms[e][a].selectedIndex;if(-1<t){for(var d,r=document.forms[e][a].options[t].value,l=0,y=0;y<12;y++)if(r.substr(2,3)==monthArray[y]){l=y;break}""!=r?d=new Date("20"+r.substr(5),l,r.substr(0,2)):((d=new Date).getUTCMonth(),d.getUTCDate(),d.getUTCFullYear()),month=d.getMonth(),(day=d.getDay())<10&&(day="0"+day),year=d.getFullYear()}else month=today.getMonth(),(day=today.getDay())<10&&(day="0"+day),year=today.getFullYear()}else month=today.getMonth(),(day=today.getDay())<10&&(day="0"+day),year=today.getFullYear();null==o&&(o="calendar.html"),mywindow=open(o,"myname","resizable=no,width=350,height=270"),mywindow.location.href=o,null==mywindow.opener&&(mywindow.opener=self)}function displayCalendarForTextField(e,a,t,o,m,n){if(theFormName=e,theDateFieldName=a,0<=m&&(maxPastDays=m),0<=n&&(maxFutureDays=n),t)if(7==document.forms[e][a].value.length){for(var d=0;d<12;d++)if("".substr(2,3)==monthArray[d]){0;break}(a=new Date).getUTCMonth(),a.getUTCDate(),a.getUTCFullYear(),month=a.getMonth(),(day=a.getDay())<10&&(day="0"+day),year=a.getFullYear()}else month=today.getMonth(),(day=today.getDay())<10&&(day="0"+day),year=today.getFullYear();else month=today.getMonth(),(day=today.getDay())<10&&(day="0"+day),year=today.getFullYear();null==o&&(o="calendar_textfield.html"),mywindow=open(o,"myname","resizable=no,width=350,height=270"),mywindow.location.href=o,null==mywindow.opener&&(mywindow.opener=self)}